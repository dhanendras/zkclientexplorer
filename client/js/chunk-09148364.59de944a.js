(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09148364"],{"02d5":function(e,t,n){const r=n("c885"),i=n("09bd");e.exports=class{constructor(){this._items=new Map}create(e,t,n){return this._rejectExistingRequest(e),this._createNewRequest(e,t,n)}resolve(e,t){e&&this._items.has(e)&&this._items.get(e).resolve(t)}rejectAll(e){this._items.forEach(t=>t.isPending?t.reject(e):null)}_rejectExistingRequest(e){const t=this._items.get(e);t&&t.isPending&&t.reject(new Error("WebSocket request is replaced, id: "+e))}_createNewRequest(e,t,n){const o=new r({timeout:n,timeoutReason:`WebSocket request was rejected by timeout (${n} ms). RequestId: ${e}`});return this._items.set(e,o),i(o.call(t),()=>this._deleteRequest(e,o))}_deleteRequest(e,t){this._items.get(e)===t&&this._items.delete(e)}}},"0437":function(e,t){t.isPromise=function(e){return e&&"function"===typeof e.then},t.tryCall=function(e){return"function"===typeof e?e():e},t.createErrorType=function(e){function t(e){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e}return t.prototype=new Error,t.prototype.name=e,t.prototype.constructor=t,t}},"09bd":function(e,t,n){"use strict";var r=n("0f7c"),i=n("f367"),o=n("7b13"),s=n("8926"),a=n("522d"),u=r.call(Function.call,s());i(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},"0f7c":function(e,t,n){"use strict";var r=n("688e");e.exports=Function.prototype.bind||r},1168:function(e,t,n){e.exports=n("ba0c").version},1696:function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},1775:function(e,t){e.exports={timeout:0,timeoutReason:"Promise rejected by PromiseController timeout {timeout} ms.",resetReason:"Promise rejected by PromiseController reset."}},2057:function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},"21d0":function(e,t,n){"use strict";var r,i,o=Function.prototype.toString,s="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof s&&"function"===typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s((function(){throw 42}),null,r)}catch(f){f!==i&&(s=null)}else s=null;var a=/^\s*class\b/,u=function(e){try{var t=o.call(e);return a.test(t)}catch(n){return!1}},c=function(e){try{return!u(e)&&(o.call(e),!0)}catch(t){return!1}},l=Object.prototype.toString,p="[object Function]",d="[object GeneratorFunction]",y="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=s?function(e){if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if("function"===typeof e&&!e.prototype)return!0;try{s(e,null,r)}catch(t){if(t!==i)return!1}return!u(e)}:function(e){if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if("function"===typeof e&&!e.prototype)return!0;if(y)return c(e);if(u(e))return!1;var t=l.call(e);return t===p||t===d}},"28a0":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"2a1a":function(e,t,n){"use strict";var r=n("e9ac"),i=n("44b7"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")?i(n):n}},"2a6d":function(e,t,n){"use strict";var r=n("e9ac"),i=r("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch(a){i=null}var o=n("2a1a"),s=o("Object.prototype.propertyIsEnumerable");e.exports=function(e,t,n,r,o,a){if(!i){if(!e(a))return!1;if(!a["[[Configurable]]"]||!a["[[Writable]]"])return!1;if(o in r&&s(r,o)!==!!a["[[Enumerable]]"])return!1;var u=a["[[Value]]"];return r[o]=u,t(r[o],u)}return i(r,o,n(a)),!0}},"2c92":function(e,t,n){"use strict";var r=n("e9ac"),i=r("%Reflect.construct%",!0),o=n("4906");try{o({},"",{"[[Get]]":function(){}})}catch(u){o=null}if(o&&i){var s={},a={};o(a,"length",{"[[Get]]":function(){throw s},"[[Enumerable]]":!0}),e.exports=function(e){try{i(e,a)}catch(t){return t===s}}}else e.exports=function(e){return"function"===typeof e&&!!e.prototype}},3022:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!T(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])v(u)||!P(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}return o};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function p(e,n,r){if(e.customInspect&&n&&I(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return T(i)||(i=p(e,i,r)),i}var o=d(e,n);if(o)return o;var s=Object.keys(n),a=l(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return y(n);if(0===s.length){if(I(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return y(n)}var c,g="",v=!1,w=["{","}"];if(b(n)&&(v=!0,w=["[","]"]),I(n)){var _=n.name?": "+n.name:"";g=" [Function"+_+"]"}return E(n)&&(g=" "+RegExp.prototype.toString.call(n)),A(n)&&(g=" "+Date.prototype.toUTCString.call(n)),O(n)&&(g=" "+y(n)),0!==s.length||v&&0!=n.length?r<0?E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=v?f(e,n,r,a,s):s.map((function(t){return h(e,n,r,a,t,v)})),e.seen.pop(),m(c,g,w)):w[0]+g+w[1]}function d(e,t){if(S(t))return e.stylize("undefined","undefined");if(T(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return _(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function y(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)N(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}function h(e,t,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),N(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=v(n)?p(e,u.value,null):p(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n"))):a=e.stylize("[Circular]","special")),S(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function m(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function b(e){return Array.isArray(e)}function g(e){return"boolean"===typeof e}function v(e){return null===e}function w(e){return null==e}function _(e){return"number"===typeof e}function T(e){return"string"===typeof e}function k(e){return"symbol"===typeof e}function S(e){return void 0===e}function E(e){return P(e)&&"[object RegExp]"===C(e)}function P(e){return"object"===typeof e&&null!==e}function A(e){return P(e)&&"[object Date]"===C(e)}function O(e){return P(e)&&("[object Error]"===C(e)||e instanceof Error)}function I(e){return"function"===typeof e}function x(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function C(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(S(o)&&(o=Object({NODE_ENV:"production",BASE_URL:"/"}).NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=b,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=w,t.isNumber=_,t.isString=T,t.isSymbol=k,t.isUndefined=S,t.isRegExp=E,t.isObject=P,t.isDate=A,t.isError=O,t.isFunction=I,t.isPrimitive=x,t.isBuffer=n("d60a");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=n("28a0"),t._extend=function(e,t){if(!t||!P(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e};var F="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function B(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(L,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(F&&e[F]){var t=e[F];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),F&&Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=F,t.callbackify=B}).call(this,n("f28c"))},3106:function(e,t,n){const r=n("7a93"),i=n("c885"),o=n("02d5"),s=n("d56d"),{throwIf:a}=n("e347"),u={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};class c{constructor(e,t){this._assertOptions(t),this._url=e,this._options=Object.assign({},s,t),this._requests=new o,this._ws=null,this._wsSubscription=null,this._createOpeningController(),this._createClosingController(),this._createChannels()}get ws(){return this._ws}get url(){return this._url}get isOpening(){return Boolean(this._ws&&this._ws.readyState===u.CONNECTING)}get isOpened(){return Boolean(this._ws&&this._ws.readyState===u.OPEN)}get isClosing(){return Boolean(this._ws&&this._ws.readyState===u.CLOSING)}get isClosed(){return Boolean(!this._ws||this._ws.readyState===u.CLOSED)}get onOpen(){return this._onOpen}get onSend(){return this._onSend}get onMessage(){return this._onMessage}get onUnpackedMessage(){return this._onUnpackedMessage}get onResponse(){return this._onResponse}get onClose(){return this._onClose}get onError(){return this._onError}open(){return this.isClosing?Promise.reject(new Error("Can't open WebSocket while closing.")):this.isOpened?this._opening.promise:this._opening.call(()=>{this._opening.promise.catch(e=>this._cleanup(e)),this._createWS()})}sendRequest(e,t={}){const n=t.requestId||""+Math.random(),r=void 0!==t.timeout?t.timeout:this._options.timeout;return this._requests.create(n,()=>{this._assertRequestIdHandlers();const t=this._options.attachRequestId(e,n);this.sendPacked(t)},r)}sendPacked(e){this._assertPackingHandlers();const t=this._options.packMessage(e);this.send(t)}send(e){a(!this.isOpened,"Can't send data because WebSocket is not opened."),this._ws.send(e),this._onSend.dispatchAsync(e)}close(e,t){return this.isClosed?Promise.resolve(this._closing.value):this._closing.call(()=>this._ws.close(e,t))}removeAllListeners(){this._onOpen.removeAllListeners(),this._onMessage.removeAllListeners(),this._onUnpackedMessage.removeAllListeners(),this._onResponse.removeAllListeners(),this._onSend.removeAllListeners(),this._onClose.removeAllListeners(),this._onError.removeAllListeners()}_createOpeningController(){const e=this._options.connectionTimeout||this._options.timeout;this._opening=new i({timeout:e,timeoutReason:`Can't open WebSocket within allowed timeout: ${e} ms.`})}_createClosingController(){const e=this._options.timeout;this._closing=new i({timeout:e,timeoutReason:`Can't close WebSocket within allowed timeout: ${e} ms.`})}_createChannels(){this._onOpen=new r,this._onMessage=new r,this._onUnpackedMessage=new r,this._onResponse=new r,this._onSend=new r,this._onClose=new r,this._onError=new r}_createWS(){this._ws=this._options.createWebSocket(this._url),this._wsSubscription=new r.Subscription([{channel:this._ws,event:"open",listener:e=>this._handleOpen(e)},{channel:this._ws,event:"message",listener:e=>this._handleMessage(e)},{channel:this._ws,event:"error",listener:e=>this._handleError(e)},{channel:this._ws,event:"close",listener:e=>this._handleClose(e)}]).on()}_handleOpen(e){this._onOpen.dispatchAsync(e),this._opening.resolve(e)}_handleMessage(e){const t=this._options.extractMessageData(e);this._onMessage.dispatchAsync(t),this._tryUnpack(t)}_tryUnpack(e){this._options.unpackMessage&&(e=this._options.unpackMessage(e),void 0!==e&&(this._onUnpackedMessage.dispatchAsync(e),this._tryHandleResponse(e)))}_tryHandleResponse(e){if(this._options.extractRequestId){const t=this._options.extractRequestId(e);t&&(this._onResponse.dispatchAsync(e,t),this._requests.resolve(t,e))}}_handleError(e){this._onError.dispatchAsync(e)}_handleClose(e){this._onClose.dispatchAsync(e),this._closing.resolve(e);const t=new Error(`WebSocket closed with reason: ${e.reason} (${e.code}).`);this._opening.isPending&&this._opening.reject(t),this._cleanup(t)}_cleanupWS(){this._wsSubscription&&(this._wsSubscription.off(),this._wsSubscription=null),this._ws=null}_cleanup(e){this._cleanupWS(),this._requests.rejectAll(e)}_assertOptions(e){Object.keys(e||{}).forEach(e=>{if(!s.hasOwnProperty(e))throw new Error("Unknown option: "+e)})}_assertPackingHandlers(){const{packMessage:e,unpackMessage:t}=this._options;a(!e||!t,"Please define 'options.packMessage / options.unpackMessage' for sending packed messages.")}_assertRequestIdHandlers(){const{attachRequestId:e,extractRequestId:t}=this._options;a(!e||!t,"Please define 'options.attachRequestId / options.extractRequestId' for sending requests.")}}e.exports=c},"33c2":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransfer=t.serializeNonce=t.serializeFeePacked=t.serializeAmountFull=t.serializeAmountPacked=t.serializeTokenId=t.serializeAccountId=t.serializeAddress=t.getEthSignatureType=t.verifyERC1271Signature=t.signMessagePersonalAPI=t.getSignedBytesFromMessage=t.getChangePubkeyMessage=t.TokenSet=t.isTokenETH=t.sleep=t.buffer2bitsBE=t.isTransactionFeePackable=t.closestPackableTransactionFee=t.isTransactionAmountPackable=t.closestPackableTransactionAmount=t.packFeeChecked=t.packAmountChecked=t.reverseBits=t.integerToFloat=t.bitsIntoBytesInBEOrder=t.floatToInteger=t.ERC20_DEPOSIT_GAS_LIMIT=t.ERC20_APPROVE_TRESHOLD=t.MAX_ERC20_APPROVE_AMOUNT=t.IEIP1271_INTERFACE=t.SYNC_GOV_CONTRACT_INTERFACE=t.SYNC_MAIN_CONTRACT_INTERFACE=t.IERC20_INTERFACE=void 0;const i=n("c030"),o=128,s=Math.pow(2,24);t.IERC20_INTERFACE=new i.utils.Interface(n("f675").abi),t.SYNC_MAIN_CONTRACT_INTERFACE=new i.utils.Interface(n("df7c").abi),t.SYNC_GOV_CONTRACT_INTERFACE=new i.utils.Interface(n("53ce").abi),t.IEIP1271_INTERFACE=new i.utils.Interface(n("90ca").abi),t.MAX_ERC20_APPROVE_AMOUNT="115792089237316195423570985008687907853269984665640564039457584007913129639935",t.ERC20_APPROVE_TRESHOLD="57896044618658097711785492504343953926634992332820282019728792003956564819968",t.ERC20_DEPOSIT_GAS_LIMIT=i.BigNumber.from("300000");const a=5,u=35,c=5,l=11;function p(e,t,n,r){if(8*e.length!==n+t)throw new Error("Float unpacking, incorrect input length");const o=S(e).reverse();let s=i.BigNumber.from(0),a=i.BigNumber.from(1);for(let i=0;i<t;i++)1===o[i]&&(s=s.add(a)),a=a.mul(2);s=i.BigNumber.from(r).pow(s);let u=i.BigNumber.from(0),c=i.BigNumber.from(1);for(let i=t;i<t+n;i++)1===o[i]&&(u=u.add(c)),c=c.mul(2);return s.mul(u)}function d(e){if(e.length%8!==0)throw new Error("wrong number of bits to pack");const t=e.length/8,n=new Uint8Array(t);for(let r=0;r<t;++r){let t=0;1===e[8*r]&&(t|=128),1===e[8*r+1]&&(t|=64),1===e[8*r+2]&&(t|=32),1===e[8*r+3]&&(t|=16),1===e[8*r+4]&&(t|=8),1===e[8*r+5]&&(t|=4),1===e[8*r+6]&&(t|=2),1===e[8*r+7]&&(t|=1),n[r]=t}return n}function y(e,t){const n=[];for(let r=0;r<t;r++)n.push(1&e),e/=2;return n}function f(e,t,n,r){const o=i.BigNumber.from(10).pow(Math.pow(2,t)-1),s=i.BigNumber.from(2).pow(n).sub(1);if(e.gt(s.mul(o)))throw new Error("Integer is too big");let a=0,u=e;while(u.gt(s))u=u.div(r),a+=1;const c=[];c.push(...y(a,t));const l=u.toNumber();return c.push(...y(l,n)),d(c.reverse()).reverse()}function h(e){const t=e.reverse();return t.map(e=>(e=(240&e)>>4|(15&e)<<4,e=(204&e)>>2|(51&e)<<2,e=(170&e)>>1|(85&e)<<1,e)),t}function m(e){return h(f(e,a,u,10))}function b(e){return h(f(e,c,l,10))}function g(e){if(w(e.toString()).toString()!==e.toString())throw new Error("Transaction Amount is not packable");return m(e)}function v(e){if(T(e.toString()).toString()!==e.toString())throw new Error("Fee Amount is not packable");return b(e)}function w(e){const t=m(i.BigNumber.from(e));return p(t,a,u,10)}function _(e){return w(e).eq(e)}function T(e){const t=b(i.BigNumber.from(e));return p(t,c,l,10)}function k(e){return T(e).eq(e)}function S(e){const t=new Array(8*e.length);for(let n=0;n<e.length;n++){const r=e[n];t[8*n]=0!==(128&r)?1:0,t[8*n+1]=0!==(64&r)?1:0,t[8*n+2]=0!==(32&r)?1:0,t[8*n+3]=0!==(16&r)?1:0,t[8*n+4]=0!==(8&r)?1:0,t[8*n+5]=0!==(4&r)?1:0,t[8*n+6]=0!==(2&r)?1:0,t[8*n+7]=0!==(1&r)?1:0}return t}function E(e){return new Promise(t=>setTimeout(t,e))}function P(e){return"ETH"===e||e===i.constants.AddressZero}t.floatToInteger=p,t.bitsIntoBytesInBEOrder=d,t.integerToFloat=f,t.reverseBits=h,t.packAmountChecked=g,t.packFeeChecked=v,t.closestPackableTransactionAmount=w,t.isTransactionAmountPackable=_,t.closestPackableTransactionFee=T,t.isTransactionFeePackable=k,t.buffer2bitsBE=S,t.sleep=E,t.isTokenETH=P;class A{constructor(e){this.tokensBySymbol=e}resolveTokenObject(e){if(this.tokensBySymbol[e])return this.tokensBySymbol[e];for(const t of Object.values(this.tokensBySymbol))if(t.address.toLocaleLowerCase()==e.toLocaleLowerCase())return t;throw new Error(`Token ${e} is not supported`)}isTokenTransferAmountPackable(e,t){const n=this.parseToken(e,t);return _(n)}isTokenTransactionFeePackable(e,t){const n=this.parseToken(e,t);return k(n)}formatToken(e,t){const n=this.resolveTokenDecimals(e);return i.utils.formatUnits(t,n)}parseToken(e,t){const n=this.resolveTokenDecimals(e);return i.utils.parseUnits(t,n)}resolveTokenDecimals(e){return this.resolveTokenObject(e).decimals}resolveTokenId(e){return this.resolveTokenObject(e).id}resolveTokenAddress(e){return this.resolveTokenObject(e).address}resolveTokenSymbol(e){return this.resolveTokenObject(e).symbol}}function O(e,t,n){const r=i.utils.hexlify(z(t)),o=i.utils.hexlify(N(n)),s=e.replace("sync:","").toLowerCase(),a="Register zkSync pubkey:\n\n"+s+"\n"+`nonce: ${r}\n`+`account id: ${o}\n\nOnly sign this message for a trusted client!`;return a}function I(e,t){let n="string"===typeof e?i.utils.toUtf8Bytes(e):i.utils.arrayify(e);return t&&(n=i.utils.concat([i.utils.toUtf8Bytes("Ethereum Signed Message:\n"+n.length),n])),n}function x(e,t){return r(this,void 0,void 0,(function*(){return e instanceof i.ethers.providers.JsonRpcSigner?e.provider.send("personal_sign",[i.utils.hexlify(t),yield e.getAddress()]).then(e=>e,n=>{if(n.message.includes("personal_sign"))return e.signMessage(t);throw n}):e.signMessage(t)}))}function C(e,n,o,s){return r(this,void 0,void 0,(function*(){const r="0x1626ba7e",a=i.utils.keccak256(n),u=new i.ethers.Contract(e,t.IEIP1271_INTERFACE,s),c=yield u.isValidSignature(i.utils.hexlify(a),o);return c===r}))}function j(e,t,n,o){return r(this,void 0,void 0,(function*(){const e=I(t,!1),r=I(t,!0),s=i.utils.recoverAddress(i.utils.keccak256(r),n);if(s.toLowerCase()===o.toLowerCase())return{verificationMethod:"ECDSA",isSignedMsgPrefixed:!0};const a=i.utils.recoverAddress(i.utils.keccak256(e),n);return a.toLowerCase()===o.toLowerCase()?{verificationMethod:"ECDSA",isSignedMsgPrefixed:!1}:{verificationMethod:"ERC-1271",isSignedMsgPrefixed:!0}}))}function R(e){if(e.startsWith("0x"))return e.substr(2);if(e.startsWith("sync:"))return e.substr(5);throw new Error("ETH address must start with '0x' and PubKeyHash must start with 'sync:'")}function M(e){const t=R(e),n=i.utils.arrayify("0x"+t);if(20!==n.length)throw new Error("Address must be 20 bytes long");return n}function N(e){if(e<0)throw new Error("Negative account id");if(e>=s)throw new Error("AccountId is too big");return U(e,4)}function F(e){if(e<0)throw new Error("Negative tokenId");if(e>=o)throw new Error("TokenId is too big");return U(e,2)}function L(e){return g(i.BigNumber.from(e))}function B(e){const t=i.BigNumber.from(e);return i.utils.zeroPad(i.utils.arrayify(t),16)}function D(e){return v(i.BigNumber.from(e))}function z(e){if(e<0)throw new Error("Negative nonce");return U(e,4)}function W(e){const t=new Uint8Array([5]),n=N(e.accountId),r=M(e.from),o=M(e.to),s=F(e.token),a=L(e.amount),u=D(e.fee),c=z(e.nonce);return i.ethers.utils.concat([t,n,r,o,s,a,u,c])}function U(e,t){const n=new Uint8Array(t);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>=8;return n}t.TokenSet=A,t.getChangePubkeyMessage=O,t.getSignedBytesFromMessage=I,t.signMessagePersonalAPI=x,t.verifyERC1271Signature=C,t.getEthSignatureType=j,t.serializeAddress=M,t.serializeAccountId=N,t.serializeTokenId=F,t.serializeAmountPacked=L,t.serializeAmountFull=B,t.serializeFeePacked=D,t.serializeNonce=z,t.serializeTransfer=W},"3d27":function(e,t,n){"use strict";var r=n("5183");e.exports=function(e){return"symbol"===typeof e?"Symbol":r(e)}},"3e4b":function(e,t,n){"use strict";var r=n("a0d3"),i=n("c46d"),o=n("3d27");e.exports=function(e){return"undefined"!==typeof e&&(i(o,"Property Descriptor","Desc",e),!(!r(e,"[[Value]]")&&!r(e,"[[Writable]]")))}},"44b7":function(e,t,n){"use strict";var r=n("0f7c"),i=n("e9ac"),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),u=i("%Object.defineProperty%",!0);if(u)try{u({},"a",{value:1})}catch(l){u=null}e.exports=function(){return a(r,s,arguments)};var c=function(){return a(r,o,arguments)};u?u(e.exports,"apply",{value:c}):e.exports.apply=c},4906:function(e,t,n){"use strict";var r=n("e9ac"),i=r("%TypeError%"),o=n("fffd"),s=n("2a6d"),a=n("9dc9"),u=n("9c74"),c=n("3e4b"),l=n("63d2"),p=n("dbbe"),d=n("ee7e"),y=n("3d27");e.exports=function(e,t,n){if("Object"!==y(e))throw new i("Assertion failed: Type(O) is not Object");if(!l(t))throw new i("Assertion failed: IsPropertyKey(P) is not true");var r=o({Type:y,IsDataDescriptor:c,IsAccessorDescriptor:u},n)?n:d(n);if(!o({Type:y,IsDataDescriptor:c,IsAccessorDescriptor:u},r))throw new i("Assertion failed: Desc is not a valid Property Descriptor");return s(c,p,a,e,t,r)}},5156:function(e,t,n){"use strict";(function(t){var r=t.Symbol,i=n("1696");e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}}).call(this,n("c8ba"))},5183:function(e,t,n){"use strict";e.exports=function(e){return null===e?"Null":"undefined"===typeof e?"Undefined":"function"===typeof e||"object"===typeof e?"Object":"number"===typeof e?"Number":"boolean"===typeof e?"Boolean":"string"===typeof e?"String":void 0}},"522d":function(e,t,n){"use strict";var r=n("be77"),i=n("8926"),o=n("f367");e.exports=function(){r();var e=i();return o(Promise.prototype,{finally:e},{finally:function(){return Promise.prototype["finally"]!==e}}),e}},"53ce":function(e){e.exports=JSON.parse('{"abi":[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newGovernor","type":"address"}],"name":"NewGovernor","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"uint16","name":"tokenId","type":"uint16"}],"name":"NewToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"validatorAddress","type":"address"},{"indexed":false,"internalType":"bool","name":"isActive","type":"bool"}],"name":"ValidatorStatusUpdate","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"_token","type":"address"}],"name":"addToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_newGovernor","type":"address"}],"name":"changeGovernor","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"initializationParameters","type":"bytes"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint16","name":"_tokenId","type":"uint16"}],"name":"isValidTokenId","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"networkGovernor","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"requireActiveValidator","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"requireGovernor","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_validator","type":"address"},{"internalType":"bool","name":"_active","type":"bool"}],"name":"setValidator","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint16","name":"","type":"uint16"}],"name":"tokenAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tokenIds","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalTokens","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"upgradeParameters","type":"bytes"}],"name":"upgrade","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_tokenAddr","type":"address"}],"name":"validateTokenAddress","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"validators","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"}]}')},"56ba":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadZkSyncCrypto=t.privateKeyToPubKeyHash=t.signTransactionBytes=t.privateKeyFromSeed=void 0;const a=n("62af"),u=o(n("62af")),c=n("c030");var l=n("62af");function p(e,t){const n=a.sign_musig(e,t),r=c.utils.hexlify(n.slice(0,32)).substr(2),i=c.utils.hexlify(n.slice(32)).substr(2);return{pubKey:r,signature:i}}function d(e){return"sync:"+c.utils.hexlify(a.private_key_to_pubkey_hash(e)).substr(2)}Object.defineProperty(t,"privateKeyFromSeed",{enumerable:!0,get:function(){return l.privateKeyFromSeed}}),t.signTransactionBytes=p,t.privateKeyToPubKeyHash=d;let y=!1;function f(e){return s(this,void 0,void 0,(function*(){if(u.default){const t=e||u.DefaultZksyncCryptoWasmURL;y||(yield u.default(t),y=!0)}}))}t.loadZkSyncCrypto=f},"62af":function(e,t,n){"use strict";n.r(t),n.d(t,"zksync_crypto_init",(function(){return c})),n.d(t,"privateKeyFromSeed",(function(){return b})),n.d(t,"private_key_to_pubkey_hash",(function(){return g})),n.d(t,"private_key_to_pubkey",(function(){return v})),n.d(t,"sign_musig",(function(){return w})),n.d(t,"__wbg_new_59cb74e423758ede",(function(){return I})),n.d(t,"__wbg_stack_558ba5917b466edd",(function(){return x})),n.d(t,"__wbg_error_4bb6c2a97407129a",(function(){return C})),n.d(t,"__wbindgen_object_drop_ref",(function(){return j}));var r=n("6f0c");const i=new Array(32).fill(void 0);function o(e){return i[e]}i.push(void 0,null,!0,!1);let s=i.length;function a(e){e<36||(i[e]=s,s=e)}function u(e){const t=o(e);return a(e),t}function c(){r["i"]()}let l=null;function p(){return null!==l&&l.buffer===r["d"].buffer||(l=new Uint8Array(r["d"].buffer)),l}let d=0;function y(e,t){const n=t(1*e.length);return p().set(e,n/1),d=e.length,n}let f=null;function h(){return null!==f&&f.buffer===r["d"].buffer||(f=new Int32Array(r["d"].buffer)),f}function m(e,t){return p().subarray(e/1,e/1+t)}function b(e){var t=y(e,r["b"]),n=d;r["e"](8,t,n);var i=h()[2],o=h()[3],s=m(i,o).slice();return r["a"](i,1*o),s}function g(e){var t=y(e,r["b"]),n=d;r["g"](8,t,n);var i=h()[2],o=h()[3],s=m(i,o).slice();return r["a"](i,1*o),s}function v(e){var t=y(e,r["b"]),n=d;r["f"](8,t,n);var i=h()[2],o=h()[3],s=m(i,o).slice();return r["a"](i,1*o),s}function w(e,t){var n=y(e,r["b"]),i=d,o=y(t,r["b"]),s=d;r["h"](8,n,i,o,s);var a=h()[2],u=h()[3],c=m(a,u).slice();return r["a"](a,1*u),c}const _="undefined"===typeof TextDecoder?n("3022").TextDecoder:TextDecoder;let T=new _("utf-8",{ignoreBOM:!0,fatal:!0});function k(e,t){return T.decode(p().subarray(e,e+t))}function S(e){s===i.length&&i.push(i.length+1);const t=s;return s=i[t],i[t]=e,t}T.decode();const E="undefined"===typeof TextEncoder?n("3022").TextEncoder:TextEncoder;let P=new E("utf-8");const A="function"===typeof P.encodeInto?function(e,t){return P.encodeInto(e,t)}:function(e,t){const n=P.encode(e);return t.set(n),{read:e.length,written:n.length}};function O(e,t,n){if(void 0===n){const n=P.encode(e),r=t(n.length);return p().subarray(r,r+n.length).set(n),d=n.length,r}let r=e.length,i=t(r);const o=p();let s=0;for(;s<r;s++){const t=e.charCodeAt(s);if(t>127)break;o[i+s]=t}if(s!==r){0!==s&&(e=e.slice(s)),i=n(i,r,r=s+3*e.length);const t=p().subarray(i+s,i+r),o=A(e,t);s+=o.written}return d=s,i}const I=function(){var e=new Error;return S(e)},x=function(e,t){var n=o(t).stack,i=O(n,r["b"],r["c"]),s=d;h()[e/4+1]=s,h()[e/4+0]=i},C=function(e,t){try{console.error(k(e,t))}finally{r["a"](e,t)}},j=function(e){u(e)}},"63d2":function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e||"symbol"===typeof e}},6787:function(e,t){var n=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},"688e":function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";e.exports=function(e){var t=this;if("function"!==typeof t||o.call(t)!==s)throw new TypeError(r+t);for(var n,a=i.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},c=Math.max(0,t.length-a.length),l=[],p=0;p<c;p++)l.push("$"+p);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},"6def":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=void 0;const i=n("56ba"),o=n("c030"),s=n("33c2");class a{constructor(e){this.privateKey=e}pubKeyHash(){return i.privateKeyToPubKeyHash(this.privateKey)}signSyncTransfer(e){const t=new Uint8Array([5]),n=s.serializeAccountId(e.accountId),r=s.serializeAddress(e.from),a=s.serializeAddress(e.to),u=s.serializeTokenId(e.tokenId),c=s.serializeAmountPacked(e.amount),l=s.serializeFeePacked(e.fee),p=s.serializeNonce(e.nonce),d=o.ethers.utils.concat([t,n,r,a,u,c,l,p]),y=i.signTransactionBytes(this.privateKey,d);return{type:"Transfer",accountId:e.accountId,from:e.from,to:e.to,token:e.tokenId,amount:o.BigNumber.from(e.amount).toString(),fee:o.BigNumber.from(e.fee).toString(),nonce:e.nonce,signature:y}}signSyncWithdraw(e){const t=new Uint8Array([3]),n=s.serializeAccountId(e.accountId),r=s.serializeAddress(e.from),a=s.serializeAddress(e.ethAddress),u=s.serializeTokenId(e.tokenId),c=s.serializeAmountFull(e.amount),l=s.serializeFeePacked(e.fee),p=s.serializeNonce(e.nonce),d=o.ethers.utils.concat([t,n,r,a,u,c,l,p]),y=i.signTransactionBytes(this.privateKey,d);return{type:"Withdraw",accountId:e.accountId,from:e.from,to:e.ethAddress,token:e.tokenId,amount:o.BigNumber.from(e.amount).toString(),fee:o.BigNumber.from(e.fee).toString(),nonce:e.nonce,signature:y}}signSyncForcedExit(e){const t=new Uint8Array([8]),n=s.serializeAccountId(e.initiatorAccountId),r=s.serializeAddress(e.target),a=s.serializeTokenId(e.tokenId),u=s.serializeFeePacked(e.fee),c=s.serializeNonce(e.nonce),l=o.ethers.utils.concat([t,n,r,a,u,c]),p=i.signTransactionBytes(this.privateKey,l);return{type:"ForcedExit",initiatorAccountId:e.initiatorAccountId,target:e.target,token:e.tokenId,fee:o.BigNumber.from(e.fee).toString(),nonce:e.nonce,signature:p}}signSyncChangePubKey(e){const t=new Uint8Array([7]),n=s.serializeAccountId(e.accountId),r=s.serializeAddress(e.account),a=s.serializeAddress(e.newPkHash),u=s.serializeTokenId(e.feeTokenId),c=s.serializeFeePacked(e.fee),l=s.serializeNonce(e.nonce),p=o.ethers.utils.concat([t,n,r,a,u,c,l]),d=i.signTransactionBytes(this.privateKey,p);return{type:"ChangePubKey",accountId:e.accountId,account:e.account,newPkHash:e.newPkHash,feeToken:e.feeTokenId,fee:o.BigNumber.from(e.fee).toString(),nonce:e.nonce,signature:d,ethSignature:null}}static fromPrivateKey(e){return new a(e)}static fromSeed(e){return new a(i.privateKeyFromSeed(e))}static fromETHSignature(e){return r(this,void 0,void 0,(function*(){let t=1;if(e.provider){const n=yield e.provider.getNetwork();t=n.chainId}let n="Access zkSync account.\n\nOnly sign this message for a trusted client!";1!==t&&(n+=`\nChain ID: ${t}.`);const r=s.getSignedBytesFromMessage(n,!1),i=yield s.signMessagePersonalAPI(e,r),u=yield e.getAddress(),c=yield s.getEthSignatureType(e.provider,n,i,u),l=o.ethers.utils.arrayify(i),p=a.fromSeed(l);return{signer:p,ethSignatureType:c}}))}}t.Signer=a},"6f0c":function(e,t,n){"use strict";var r=n.w[e.i];e.exports=r;n("62af");r["j"]()},"72f2":function(e,t,n){"use strict";e.exports=function(e){return!!e}},"7a93":function(e,t,n){"use strict";
/* chnl v1.2.0 by Vitaliy Potapov @preserve */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function y(e){var t=l();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function f(e){return h(e)||m(e)||b(e)||v()}function h(e){if(Array.isArray(e))return g(e)}function m(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w=function(){function e(t){i(this,e),this._listeners=[],this._mute=!1,this._accumulate=!1,this._accumulatedEvents=[],this._name=t||"",this._onListenerAdded=null,this._onFirstListenerAdded=null,this._onListenerRemoved=null,this._onLastListenerRemoved=null}return s(e,[{key:"addListener",value:function(e,t){this._pushListener(e,t,!1)}},{key:"addOnceListener",value:function(e,t){this._pushListener(e,t,!0)}},{key:"removeListener",value:function(e,t){this._ensureListener(e);var n=this._indexOfListener(e,t);0<=n&&this._spliceListener(n)}},{key:"removeAllListeners",value:function(){for(;this.hasListeners();)this._spliceListener(0)}},{key:"hasListener",value:function(e,t){return this._ensureListener(e),0<=this._indexOfListener(e,t)}},{key:"hasListeners",value:function(){return 0<this._listeners.length}},{key:"dispatch",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._invokeListeners({args:t,async:!1})}},{key:"dispatchAsync",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._invokeListeners({args:t,async:!0})}},{key:"mute",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._mute=!0,t.accumulate?this._accumulate=!0:(this._accumulate=!1,this._accumulatedEvents=[])}},{key:"unmute",value:function(){this._mute=!1,this._accumulate&&(this._dispatchAccumulated(),this._accumulate=!1)}},{key:"_invokeListeners",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{args:[],async:!1};this._mute?this._accumulate&&this._accumulatedEvents.push(n):this._listeners.slice().forEach((function(e){t._invokeListener(e,n),e.once&&t.removeListener(e.callback,e.context)}))}},{key:"_invokeListener",value:function(t,n){var r,i,o=t.callback instanceof e;n.async?o?(r=t.callback).dispatchAsync.apply(r,f(n.args)):setTimeout((function(){return t.callback.apply(t.context,n.args)}),0):o?(i=t.callback).dispatch.apply(i,f(n.args)):t.callback.apply(t.context,n.args)}},{key:"_ensureListener",value:function(t){if(!e.isValidListener(t))throw new Error("Channel "+this._name+": listener is not a function and not a Channel")}},{key:"_dispatchInnerAddEvents",value:function(){var e,t;this._onListenerAdded&&(e=this._onListenerAdded).dispatch.apply(e,arguments),this._onFirstListenerAdded&&1===this._listeners.length&&(t=this._onFirstListenerAdded).dispatch.apply(t,arguments)}},{key:"_dispatchInnerRemoveEvents",value:function(){var e,t;this._onListenerRemoved&&(e=this._onListenerRemoved).dispatch.apply(e,arguments),this._onLastListenerRemoved&&0===this._listeners.length&&(t=this._onLastListenerRemoved).dispatch.apply(t,arguments)}},{key:"_indexOfListener",value:function(t,n){for(var r=0;r<this._listeners.length;r++){var i=this._listeners[r],o=i.callback===t,s=t instanceof e,a=void 0===n&&void 0===i.context,u=n===i.context;if(o&&(s||a||u))return r}}},{key:"_dispatchAccumulated",value:function(){var e=this;this._accumulatedEvents.forEach((function(t){return e._invokeListeners(t)})),this._accumulatedEvents=[]}},{key:"_pushListener",value:function(e,t,n){this._ensureListener(e),this._checkForDuplicates(e,t),this._listeners.push({callback:e,context:t,once:n}),this._dispatchInnerAddEvents(e,t,n)}},{key:"_checkForDuplicates",value:function(e,t){if(this.hasListener(e,t))throw new Error("Channel "+this._name+": duplicating listeners")}},{key:"_spliceListener",value:function(e){var t=this._listeners[e],n=t.callback,r=t.context,i=t.once;this._listeners.splice(e,1),this._dispatchInnerRemoveEvents(n,r,i)}},{key:"onListenerAdded",get:function(){return this._onListenerAdded||(this._onListenerAdded=new e("".concat(this._name,":onListenerAdded"))),this._onListenerAdded}},{key:"onFirstListenerAdded",get:function(){return this._onFirstListenerAdded||(this._onFirstListenerAdded=new e("".concat(this._name,":onFirstListenerAdded"))),this._onFirstListenerAdded}},{key:"onListenerRemoved",get:function(){return this._onListenerRemoved||(this._onListenerRemoved=new e("".concat(this._name,":onListenerRemoved"))),this._onListenerRemoved}},{key:"onLastListenerRemoved",get:function(){return this._onLastListenerRemoved||(this._onLastListenerRemoved=new e("".concat(this._name,":onLastListenerRemoved"))),this._onLastListenerRemoved}}],[{key:"isValidListener",value:function(t){return"function"==typeof t||t instanceof e}}]),e}(),_=function(){function e(){i(this,e),this._channels=new Map}return s(e,[{key:"addListener",value:function(e,t,n){this._getChannel(e).addListener(t,n)}},{key:"on",value:function(e,t,n){this.addListener(e,t,n)}},{key:"addOnceListener",value:function(e,t,n){this._getChannel(e).addOnceListener(t,n)}},{key:"once",value:function(e,t,n){this.addOnceListener(e,t,n)}},{key:"removeListener",value:function(e,t,n){this._getChannel(e).removeListener(t,n)}},{key:"off",value:function(e,t,n){this.removeListener(e,t,n)}},{key:"hasListener",value:function(e,t,n){return this._getChannel(e).hasListener(t,n)}},{key:"has",value:function(e,t,n){return this.hasListener(e,t,n)}},{key:"hasListeners",value:function(e){return this._getChannel(e).hasListeners()}},{key:"dispatch",value:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._getChannel(e)).dispatch.apply(t,r)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.dispatch.apply(this,[e].concat(n))}},{key:"_getChannel",value:function(e){return this._channels.has(e)||this._channels.set(e,new w(e)),this._channels.get(e)}}]),e}(),T=function(){function e(t){i(this,e),this._params=t,this._isOn=!1,this._assertParams()}return s(e,[{key:"on",value:function(){if(!this._isOn){var e=this._params.channel,t=e.addListener||e.addEventListener||e.on;this._applyMethod(t),this._isOn=!0}}},{key:"off",value:function(){if(this._isOn){var e=this._params.channel,t=e.removeListener||e.removeEventListener||e.off;this._applyMethod(t),this._isOn=!1}}},{key:"_applyMethod",value:function(e){var t=this._params,n=t.channel,r=t.event,i=t.listener,o=r?[r,i]:[i];e.apply(n,o)}},{key:"_assertParams",value:function(){var e=this._params,t=e.channel,n=e.event,i=e.listener;if(!t||"object"!==r(t))throw new Error("Channel should be object");if(n&&"string"!=typeof n)throw new Error("Event should be string");if(!i||!w.isValidListener(i))throw new Error("Listener should be function or Channel")}}]),e}(),k=function(){function e(t){i(this,e),this._items=t.map((function(e){return new T(e)}))}return s(e,[{key:"on",value:function(){return this._items.forEach((function(e){return e.on()})),this}},{key:"off",value:function(){return this._items.forEach((function(e){return e.off()})),this}}]),e}(),S=function(){a(t,k);var e=y(t);function t(n,r){var o;return i(this,t),(o=e.call(this,r))._overrideComponentCallback(n,"componentDidMount","on"),o._overrideComponentCallback(n,"componentWillUnmount","off"),o}return s(t,[{key:"_overrideComponentCallback",value:function(e,t,n){var r=this,i=e[t];e[t]=function(){if(r[n](),"function"==typeof i){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i.apply(e,o)}}}}]),t}(),E=w;E.EventEmitter=_,E.Subscription=k,E.ReactSubscription=S,e.exports=E},"7b13":function(e,t,n){"use strict";var r=n("be77");r();var i=n("7f73"),o=n("8253"),s=n("3d27"),a=function(e,t){return new e((function(e){e(t)}))},u=Promise,c=function(e,t){return function(n){var r=t(),i=a(e,r),o=function(){return n};return i.then(o)}},l=function(e,t){return function(n){var r=t(),i=a(e,r),o=function(){throw n};return i.then(o)}},p=function(e){var t=this;if("Object"!==s(t))throw new TypeError("receiver is not an Object");var n=o(t,u),r=e,a=e;return i(e)&&(r=c(n,e),a=l(n,e)),t.then(r,a)};if(Object.getOwnPropertyDescriptor){var d=Object.getOwnPropertyDescriptor(p,"name");d&&d.configurable&&Object.defineProperty(p,"name",{configurable:!0,value:"finally"})}e.exports=p},"7e3c":function(e,t,n){var r;try{r=n("6787")}catch(a){}finally{if(r||"undefined"===typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,o=n("1168");function s(e,t){var n;return n=t?new i(e,t):new i(e),n}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(s,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?s:null,version:o}},"7f73":function(e,t,n){"use strict";e.exports=n("21d0")},8253:function(e,t,n){"use strict";var r=n("e9ac"),i=r("%Symbol.species%",!0),o=r("%TypeError%"),s=n("2c92"),a=n("3d27");e.exports=function(e,t){if("Object"!==a(e))throw new o("Assertion failed: Type(O) is not Object");var n=e.constructor;if("undefined"===typeof n)return t;if("Object"!==a(n))throw new o("O.constructor is not an Object");var r=i?n[i]:void 0;if(null==r)return t;if(s(r))return r;throw new o("no constructor found")}},"85a0":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.submitSignedTransaction=t.Wallet=void 0;const i=n("c030"),o=n("ffb2"),s=n("c442"),a=n("6def"),u=n("33c2"),c=o.ErrorCode;class l extends Error{constructor(e,t){super(e),this.value=t}}class p{constructor(e,t,n,r,i){this.ethSigner=e,this.cachedAddress=t,this.signer=n,this.accountId=r,this.ethSignerType=i}connect(e){return this.provider=e,this}static fromEthSigner(e,t,n,i,o){return r(this,void 0,void 0,(function*(){if(null==n){const t=yield a.Signer.fromETHSignature(e);n=t.signer,o=o||t.ethSignatureType}else if(null==o)throw new Error("If you passed signer, you must also pass ethSignerType.");const r=new p(e,yield e.getAddress(),n,i,o);return r.connect(t),r}))}static fromEthSignerNoKeys(e,t,n,i){return r(this,void 0,void 0,(function*(){const r=new p(e,yield e.getAddress(),void 0,n,i);return r.connect(t),r}))}getEthMessageSignature(e){return r(this,void 0,void 0,(function*(){if(null==this.ethSignerType)throw new Error("ethSignerType is unknown");const t=u.getSignedBytesFromMessage(e,!this.ethSignerType.isSignedMsgPrefixed),n=yield u.signMessagePersonalAPI(this.ethSigner,t);return{type:"ECDSA"===this.ethSignerType.verificationMethod?"EthereumSignature":"EIP1271Signature",signature:n}}))}getTransfer(e){return r(this,void 0,void 0,(function*(){if(!this.signer)throw new Error("ZKSync signer is required for sending zksync transactions.");yield this.setRequiredAccountIdFromServer("Transfer funds");const t=this.provider.tokenSet.resolveTokenId(e.token),n={accountId:this.accountId,from:this.address(),to:e.to,tokenId:t,amount:e.amount,fee:e.fee,nonce:e.nonce};return this.signer.signSyncTransfer(n)}))}signSyncTransfer(e){return r(this,void 0,void 0,(function*(){const t=yield this.getTransfer(e),n=this.provider.tokenSet.formatToken(e.token,e.amount),r=this.provider.tokenSet.formatToken(e.token,e.fee),i=this.provider.tokenSet.resolveTokenSymbol(e.token),o=`Transfer ${n} ${i}\nTo: ${e.to.toLowerCase()}\nNonce: ${e.nonce}\nFee: ${r} ${i}\nAccount Id: `+this.accountId,s=yield this.getEthMessageSignature(o);return{tx:t,ethereumSignature:s}}))}signSyncForcedExit(e){return r(this,void 0,void 0,(function*(){if(!this.signer)throw new Error("ZKSync signer is required for sending zksync transactions.");yield this.setRequiredAccountIdFromServer("perform a Forced Exit");const t=this.provider.tokenSet.resolveTokenId(e.token),n={initiatorAccountId:this.accountId,target:e.target,tokenId:t,fee:e.fee,nonce:e.nonce},r=this.signer.signSyncForcedExit(n);return{tx:r}}))}syncForcedExit(e){return r(this,void 0,void 0,(function*(){if(e.nonce=null!=e.nonce?yield this.getNonce(e.nonce):yield this.getNonce(),null==e.fee){const t=yield this.provider.getTransactionFee("Withdraw",e.target,e.token);e.fee=t.totalFee}const t=yield this.signSyncForcedExit(e);return f(t,this.provider)}))}syncMultiTransfer(e){return r(this,void 0,void 0,(function*(){if(!this.signer)throw new Error("ZKSync signer is required for sending zksync transactions.");if(0==e.length)return[];yield this.setRequiredAccountIdFromServer("Transfer funds");let t=[],n=new Uint8Array([]),r=null!=e[0].nonce?yield this.getNonce(e[0].nonce):yield this.getNonce();for(let a=0;a<e.length;a++){const o=e[a],s=r;r+=1;const c=yield this.getTransfer({to:o.to,token:o.token,amount:o.amount,fee:o.fee,nonce:s});n=i.ethers.utils.concat([n,u.serializeTransfer(c)]),t.push({tx:c,signature:null})}const o=yield this.getEthMessageSignature(i.ethers.utils.keccak256(n).slice(2)),s=yield this.provider.submitTxsBatch(t,o);return s.map((e,n)=>new y(t[n],e,this.provider))}))}syncTransfer(e){return r(this,void 0,void 0,(function*(){if(e.nonce=null!=e.nonce?yield this.getNonce(e.nonce):yield this.getNonce(),null==e.fee){const t=yield this.provider.getTransactionFee("Transfer",e.to,e.token);e.fee=t.totalFee}const t=yield this.signSyncTransfer(e);return f(t,this.provider)}))}signWithdrawFromSyncToEthereum(e){return r(this,void 0,void 0,(function*(){if(!this.signer)throw new Error("ZKSync signer is required for sending zksync transactions.");yield this.setRequiredAccountIdFromServer("Withdraw funds");const t=this.provider.tokenSet.resolveTokenId(e.token),n={accountId:this.accountId,from:this.address(),ethAddress:e.ethAddress,tokenId:t,amount:e.amount,fee:e.fee,nonce:e.nonce},r=this.provider.tokenSet.formatToken(e.token,e.amount),i=this.provider.tokenSet.formatToken(e.token,e.fee),o=this.provider.tokenSet.resolveTokenSymbol(e.token),s=`Withdraw ${r} ${o}\nTo: ${e.ethAddress.toLowerCase()}\nNonce: ${e.nonce}\nFee: ${i} ${o}\nAccount Id: `+this.accountId,a=yield this.getEthMessageSignature(s),u=this.signer.signSyncWithdraw(n);return{tx:u,ethereumSignature:a}}))}withdrawFromSyncToEthereum(e){return r(this,void 0,void 0,(function*(){if(e.nonce=null!=e.nonce?yield this.getNonce(e.nonce):yield this.getNonce(),null==e.fee){const t=!0===e.fastProcessing?"FastWithdraw":"Withdraw",n=yield this.provider.getTransactionFee(t,e.ethAddress,e.token);e.fee=n.totalFee}const t=yield this.signWithdrawFromSyncToEthereum(e);return f(t,this.provider,e.fastProcessing)}))}isSigningKeySet(){return r(this,void 0,void 0,(function*(){if(!this.signer)throw new Error("ZKSync signer is required for current pubkey calculation.");const e=yield this.getCurrentPubKeyHash(),t=this.signer.pubKeyHash();return e===t}))}signSetSigningKey(e){return r(this,void 0,void 0,(function*(){if(!this.signer)throw new Error("ZKSync signer is required for current pubkey calculation.");const t=yield this.provider.tokenSet.resolveTokenId(e.feeToken),n=this.signer.pubKeyHash();yield this.setRequiredAccountIdFromServer("Set Signing Key");const r=u.getChangePubkeyMessage(n,e.nonce,this.accountId),o=e.onchainAuth?null:(yield this.getEthMessageSignature(r)).signature,s=this.signer.signSyncChangePubKey({accountId:this.accountId,account:this.address(),newPkHash:this.signer.pubKeyHash(),nonce:e.nonce,feeTokenId:t,fee:i.BigNumber.from(e.fee).toString()});return s.ethSignature=o,{tx:s}}))}setSigningKey(e){return r(this,void 0,void 0,(function*(){if(e.nonce=null!=e.nonce?yield this.getNonce(e.nonce):yield this.getNonce(),null==e.onchainAuth&&(e.onchainAuth=!1),null==e.fee){e.fee=0;const t={ChangePubKey:{onchainPubkeyAuth:e.onchainAuth}},n=yield this.provider.getTransactionFee(t,this.address(),e.feeToken);e.fee=n.totalFee}const t=yield this.signSetSigningKey(e),n=yield this.getCurrentPubKeyHash();if(n===t.tx.newPkHash)throw new Error("Current signing key is already set");return f(t,this.provider)}))}isOnchainAuthSigningKeySet(e="committed"){return r(this,void 0,void 0,(function*(){const t=new i.Contract(this.provider.contractAddress.mainContract,u.SYNC_MAIN_CONTRACT_INTERFACE,this.ethSigner),n=yield this.getNonce(e);try{const e=yield t.authFacts(this.address(),n);return"0x0000000000000000000000000000000000000000000000000000000000000000"!==e}catch(r){this.modifyEthersError(r)}}))}onchainAuthSigningKey(e="committed",t){return r(this,void 0,void 0,(function*(){if(!this.signer)throw new Error("ZKSync signer is required for current pubkey calculation.");const n=yield this.getCurrentPubKeyHash(),r=this.signer.pubKeyHash();if(n===r)throw new Error("Current PubKeyHash is the same as new");const o=yield this.getNonce(e),s=new i.Contract(this.provider.contractAddress.mainContract,u.SYNC_MAIN_CONTRACT_INTERFACE,this.ethSigner);try{return s.setAuthPubkeyHash(r.replace("sync:","0x"),o,Object.assign({gasLimit:i.BigNumber.from("200000")},t))}catch(a){this.modifyEthersError(a)}}))}getCurrentPubKeyHash(){return r(this,void 0,void 0,(function*(){return(yield this.provider.getState(this.address())).committed.pubKeyHash}))}getNonce(e="committed"){return r(this,void 0,void 0,(function*(){return"committed"===e?(yield this.provider.getState(this.address())).committed.nonce:"number"===typeof e?e:void 0}))}getAccountId(){return r(this,void 0,void 0,(function*(){return(yield this.provider.getState(this.address())).id}))}address(){return this.cachedAddress}getAccountState(){return r(this,void 0,void 0,(function*(){return this.provider.getState(this.address())}))}getBalance(e,t="committed"){return r(this,void 0,void 0,(function*(){const n=yield this.getAccountState(),r=this.provider.tokenSet.resolveTokenSymbol(e);let o;return o="committed"===t?n.committed.balances[r]||"0":n.verified.balances[r]||"0",i.BigNumber.from(o)}))}getEthereumBalance(e){return r(this,void 0,void 0,(function*(){let t;if(u.isTokenETH(e))t=yield this.ethSigner.provider.getBalance(this.cachedAddress);else{const r=new i.Contract(this.provider.tokenSet.resolveTokenAddress(e),u.IERC20_INTERFACE,this.ethSigner);try{t=yield r.balanceOf(this.cachedAddress)}catch(n){this.modifyEthersError(n)}}return t}))}isERC20DepositsApproved(e){return r(this,void 0,void 0,(function*(){if(u.isTokenETH(e))throw Error("ETH token does not need approval.");const t=this.provider.tokenSet.resolveTokenAddress(e),n=new i.Contract(t,u.IERC20_INTERFACE,this.ethSigner);try{const e=yield n.allowance(this.address(),this.provider.contractAddress.mainContract);return i.BigNumber.from(e).gte(u.ERC20_APPROVE_TRESHOLD)}catch(r){this.modifyEthersError(r)}}))}approveERC20TokenDeposits(e){return r(this,void 0,void 0,(function*(){if(u.isTokenETH(e))throw Error("ETH token does not need approval.");const t=this.provider.tokenSet.resolveTokenAddress(e),n=new i.Contract(t,u.IERC20_INTERFACE,this.ethSigner);try{return n.approve(this.provider.contractAddress.mainContract,u.MAX_ERC20_APPROVE_AMOUNT)}catch(r){this.modifyEthersError(r)}}))}depositToSyncFromEthereum(e){return r(this,void 0,void 0,(function*(){const t=yield this.ethSigner.provider.getGasPrice(),n=new i.Contract(this.provider.contractAddress.mainContract,u.SYNC_MAIN_CONTRACT_INTERFACE,this.ethSigner);let r;if(u.isTokenETH(e.token)){try{r=yield n.depositETH(e.depositTo,Object.assign({value:i.BigNumber.from(e.amount),gasLimit:i.BigNumber.from("200000"),gasPrice:t},e.ethTxOptions))}catch(o){console.log("deposit error"),console.log(o),this.modifyEthersError(o)}console.log("deposit no error")}else{console.log("else no error");const s=this.provider.tokenSet.resolveTokenAddress(e.token),a=new i.Contract(s,u.IERC20_INTERFACE,this.ethSigner);let c;if(e.approveDepositAmountForERC20)try{const t=yield a.approve(this.provider.contractAddress.mainContract,e.amount);console.log("approveTx.nonce"),console.log(t.nonce),c=t.nonce+1}catch(o){console.log("nonce error"),console.log(o),this.modifyEthersError(o)}console.log("nonce"),console.log(c);const l=[s,e.amount,e.depositTo,Object.assign({nonce:c,gasPrice:t},e.ethTxOptions)];console.log("nonce2");const p=l[l.length-1];if(null==p.gasLimit)try{const e=yield n.estimateGas.depositERC20(...l).then(e=>e,e=>i.BigNumber.from("0"));p.gasLimit=e.gte(u.ERC20_DEPOSIT_GAS_LIMIT)?e:u.ERC20_DEPOSIT_GAS_LIMIT,l[l.length-1]=p}catch(o){console.log("e error"),console.log(o),this.modifyEthersError(o)}try{r=yield n.depositERC20(...l)}catch(o){this.modifyEthersError(o)}}return new d(r,this.provider)}))}emergencyWithdraw(e){return r(this,void 0,void 0,(function*(){const t=yield this.ethSigner.provider.getGasPrice(),n=new s.ETHProxy(this.ethSigner.provider,this.provider.contractAddress);let r;if(null!=e.accountId)r=e.accountId;else if(void 0!==this.accountId)r=this.accountId;else{const e=yield this.getAccountState();if(!e.id)throw new Error("Can't resolve account id from the zkSync node");r=e.id}const o=new i.Contract(n.contractAddress.mainContract,u.SYNC_MAIN_CONTRACT_INTERFACE,this.ethSigner),a=this.provider.tokenSet.resolveTokenAddress(e.token);try{const n=yield o.fullExit(r,a,Object.assign({gasLimit:i.BigNumber.from("500000"),gasPrice:t},e.ethTxOptions));return new d(n,this.provider)}catch(c){this.modifyEthersError(c)}}))}modifyEthersError(e){if(this.ethSigner instanceof i.ethers.providers.JsonRpcSigner){const t=[c.NONCE_EXPIRED,c.INSUFFICIENT_FUNDS,c.REPLACEMENT_UNDERPRICED,c.UNPREDICTABLE_GAS_LIMIT];t.includes(e.code)||(e.message=`Ethereum smart wallet JSON RPC server returned the following error while executing an operation: "${e.message}". Please contact your smart wallet support for help.`)}throw e}setRequiredAccountIdFromServer(e){return r(this,void 0,void 0,(function*(){if(void 0===this.accountId){const t=yield this.getAccountId();if(null==t)throw new Error(`Failed to ${e}: Account does not exist in the zkSync network`);this.accountId=t}}))}}t.Wallet=p;class d{constructor(e,t){this.ethTx=e,this.zkSyncProvider=t,this.state="Sent"}awaitEthereumTxCommit(){return r(this,void 0,void 0,(function*(){if("Sent"!==this.state)return;const e=yield this.ethTx.wait();for(const n of e.logs)try{const e=u.SYNC_MAIN_CONTRACT_INTERFACE.parseLog(n);e&&null!=e.args.serialId&&(this.priorityOpId=e.args.serialId)}catch(t){}if(!this.priorityOpId)throw new Error("Failed to parse tx logs");return this.state="Mined",e}))}awaitReceipt(){return r(this,void 0,void 0,(function*(){if(this.throwErrorIfFailedState(),yield this.awaitEthereumTxCommit(),"Mined"!==this.state)return;const e=yield this.zkSyncProvider.notifyPriorityOp(this.priorityOpId.toNumber(),"COMMIT");return e.executed||(this.setErrorState(new l("Priority operation failed",e)),this.throwErrorIfFailedState()),this.state="Committed",e}))}awaitVerifyReceipt(){return r(this,void 0,void 0,(function*(){if(yield this.awaitReceipt(),"Committed"!==this.state)return;const e=yield this.zkSyncProvider.notifyPriorityOp(this.priorityOpId.toNumber(),"VERIFY");return this.state="Verified",e}))}setErrorState(e){this.state="Failed",this.error=e}throwErrorIfFailedState(){if("Failed"===this.state)throw this.error}}class y{constructor(e,t,n){this.txData=e,this.txHash=t,this.sidechainProvider=n,this.state="Sent"}awaitReceipt(){return r(this,void 0,void 0,(function*(){if(this.throwErrorIfFailedState(),"Sent"!==this.state)return;const e=yield this.sidechainProvider.notifyTransaction(this.txHash,"COMMIT");return e.success||(this.setErrorState(new l("zkSync transaction failed: "+e.failReason,e)),this.throwErrorIfFailedState()),this.state="Committed",e}))}awaitVerifyReceipt(){return r(this,void 0,void 0,(function*(){yield this.awaitReceipt();const e=yield this.sidechainProvider.notifyTransaction(this.txHash,"VERIFY");return this.state="Verified",e}))}setErrorState(e){this.state="Failed",this.error=e}throwErrorIfFailedState(){if("Failed"===this.state)throw this.error}}function f(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield t.submitTx(e.tx,e.ethereumSignature,n);return new y(e,r,t)}))}t.submitSignedTransaction=f},8926:function(e,t,n){"use strict";var r=n("be77"),i=n("7b13");e.exports=function(){return r(),"function"===typeof Promise.prototype["finally"]?Promise.prototype["finally"]:i}},"90ca":function(e){e.exports=JSON.parse('{"abi":[{"constant":true,"inputs":[{"internalType":"bytes32","name":"_hash","type":"bytes32"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"payable":false,"stateMutability":"view","type":"function"}]}')},"9c74":function(e,t,n){"use strict";var r=n("a0d3"),i=n("c46d"),o=n("3d27");e.exports=function(e){return"undefined"!==typeof e&&(i(o,"Property Descriptor","Desc",e),!(!r(e,"[[Get]]")&&!r(e,"[[Set]]")))}},"9d25":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WSTransport=t.HTTPTransport=t.JRPCError=t.AbstractJSONRPCTransport=void 0;const u=a(n("bc3a")),c=n("3106"),l=o(n("7e3c")),p=l.w3cwebsocket;class d{subscriptionsSupported(){return!1}subscribe(e,t,n,r){return s(this,void 0,void 0,(function*(){throw new Error("subscription are not supported for this transport")}))}}t.AbstractJSONRPCTransport=d;class y extends Error{constructor(e,t){super(e),this.jrpcError=t}}t.JRPCError=y;class f{constructor(e){this.unsubscribe=e}}class h extends d{constructor(e){super(),this.address=e}request(e,t=null){return s(this,void 0,void 0,(function*(){const n={id:1,jsonrpc:"2.0",method:e,params:t},r=yield u.default.post(this.address,n).then(e=>e.data);if("result"in r)return r.result;throw"error"in r?new y(`zkSync API response error: code ${r.error.code}; message: ${r.error.message}`,r.error):new Error("Unknown JRPC Error")}))}disconnect(){return s(this,void 0,void 0,(function*(){}))}}t.HTTPTransport=h;class m extends d{constructor(e){super(),this.address=e,this.ws=new c(e,{createWebSocket:e=>new p(e),packMessage:e=>JSON.stringify(e),unpackMessage:e=>JSON.parse(e),attachRequestId:(e,t)=>Object.assign({id:t},e),extractRequestId:e=>e&&e.id}),this.subscriptionCallback=new Map,this.ws.onUnpackedMessage.addListener(e=>{if(e.params&&e.params.subscription){const t=e.params;this.subscriptionCallback.has(t.subscription)&&this.subscriptionCallback.get(t.subscription)(t.result)}})}static connect(e="ws://127.0.0.1:3031"){return s(this,void 0,void 0,(function*(){const t=new m(e);return yield t.ws.open(),t}))}subscriptionsSupported(){return!0}subscribe(e,t,n,r){return s(this,void 0,void 0,(function*(){const i={jsonrpc:"2.0",method:e,params:t},o=yield this.ws.sendRequest(i);if(o.error)throw new y("Subscription failed",o.error);const a=o.result;this.subscriptionCallback.set(a,r);const u=()=>s(this,void 0,void 0,(function*(){const e=yield this.ws.sendRequest({jsonrpc:"2.0",method:n,params:[a]});if(e.error)throw new y(`Unsubscribe failed: ${a}, ${JSON.stringify(e.error)}`,e.error);if(!0!==e.result)throw new Error("Unsubscription failed, returned false: "+a);this.subscriptionCallback.delete(a)}));return new f(u)}))}request(e,t=null){return s(this,void 0,void 0,(function*(){const n={jsonrpc:"2.0",method:e,params:t},r=yield this.ws.sendRequest(n,{requestId:1});if("result"in r)return r.result;throw"error"in r?new y(`zkSync API response error: code ${r.error.code}; message: ${r.error.message}`,r.error):new Error("Unknown JRPC Error")}))}disconnect(){return s(this,void 0,void 0,(function*(){yield this.ws.close()}))}}t.WSTransport=m},"9dc9":function(e,t,n){"use strict";var r=n("c46d"),i=n("3d27");e.exports=function(e){if("undefined"===typeof e)return e;r(i,"Property Descriptor","Desc",e);var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=e["[[Configurable]]"]),t}},a0d3:function(e,t,n){"use strict";var r=n("0f7c");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},ac15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},b189:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n("d4ab"),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{p(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(e){if("undefined"===typeof window||!y)return p(e);try{return p(e)}catch(t){return!1}};r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),r=s(e),a=t&&"[object String]"===o.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(a&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)p.push(String(y));if(r&&e.length>0)for(var h=0;h<e.length;++h)p.push(String(h));else for(var m in e)d&&"prototype"===m||!i.call(e,m)||p.push(String(m));if(u)for(var b=f(e),g=0;g<l.length;++g)b&&"constructor"===l[g]||!i.call(e,l[g])||p.push(l[g]);return p}}e.exports=r},ba0c:function(e){e.exports=JSON.parse('{"name":"websocket","description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"author":"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)","contributors":["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],"version":"1.0.32","repository":{"type":"git","url":"https://github.com/theturtle32/WebSocket-Node.git"},"homepage":"https://github.com/theturtle32/WebSocket-Node","engines":{"node":">=4.0.0"},"dependencies":{"bufferutil":"^4.0.1","debug":"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2","yaeti":"^0.0.6"},"devDependencies":{"buffer-equal":"^1.0.0","gulp":"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1","jshint":"^2.0.0","tape":"^4.9.1"},"config":{"verbose":false},"scripts":{"test":"tape test/unit/*.js","gulp":"gulp"},"main":"index","directories":{"lib":"./lib"},"browser":"lib/browser.js","license":"Apache-2.0"}')},be77:function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.")}},c442:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ETHProxy=t.Provider=t.getDefaultProvider=void 0;const i=n("9d25"),o=n("c030"),s=n("33c2");function a(e,t="WS"){return r(this,void 0,void 0,(function*(){if("localhost"===e){if("WS"===t)return yield u.newWebsocketProvider("ws://127.0.0.1:3031");if("HTTP"===t)return yield u.newHttpProvider("http://127.0.0.1:3030")}else if("ropsten"===e){if("WS"===t)return yield u.newWebsocketProvider("wss://ropsten-api.zksync.io/jsrpc-ws");if("HTTP"===t)return yield u.newHttpProvider("https://ropsten-api.zksync.io/jsrpc")}else if("rinkeby"===e){if("WS"===t)return yield u.newWebsocketProvider("wss://rinkeby-api.zksync.io/jsrpc-ws");if("HTTP"===t)return yield u.newHttpProvider("https://rinkeby-api.zksync.io/jsrpc")}else{if("mainnet"!==e)throw new Error(`Ethereum network ${e} is not supported`);if("WS"===t)return yield u.newWebsocketProvider("wss://api.zksync.io/jsrpc-ws");if("HTTP"===t)return yield u.newHttpProvider("https://api.zksync.io/jsrpc")}}))}t.getDefaultProvider=a;class u{constructor(e){this.transport=e,this.pollIntervalMilliSecs=500}static newWebsocketProvider(e){return r(this,void 0,void 0,(function*(){const t=yield i.WSTransport.connect(e),n=new u(t);return n.contractAddress=yield n.getContractAddress(),n.tokenSet=new s.TokenSet(yield n.getTokens()),n}))}static newHttpProvider(e="http://127.0.0.1:3030",t){return r(this,void 0,void 0,(function*(){const n=new i.HTTPTransport(e),r=new u(n);return t&&(r.pollIntervalMilliSecs=t),r.contractAddress=yield r.getContractAddress(),r.tokenSet=new s.TokenSet(yield r.getTokens()),r}))}submitTx(e,t,n){return r(this,void 0,void 0,(function*(){return yield this.transport.request("tx_submit",[e,t,n])}))}submitTxsBatch(e,t){return r(this,void 0,void 0,(function*(){return yield this.transport.request("submit_txs_batch",[e,t])}))}getContractAddress(){return r(this,void 0,void 0,(function*(){return yield this.transport.request("contract_address",null)}))}getTokens(){return r(this,void 0,void 0,(function*(){return yield this.transport.request("tokens",null)}))}getState(e){return r(this,void 0,void 0,(function*(){return yield this.transport.request("account_info",[e])}))}getTxReceipt(e){return r(this,void 0,void 0,(function*(){return yield this.transport.request("tx_info",[e])}))}getPriorityOpStatus(e){return r(this,void 0,void 0,(function*(){return yield this.transport.request("ethop_info",[e])}))}getConfirmationsForEthOpAmount(){return r(this,void 0,void 0,(function*(){return yield this.transport.request("get_confirmations_for_eth_op_amount",[])}))}getEthTxForWithdrawal(e){return r(this,void 0,void 0,(function*(){return yield this.transport.request("get_eth_tx_for_withdrawal",[e])}))}notifyPriorityOp(e,t){return r(this,void 0,void 0,(function*(){if(this.transport.subscriptionsSupported())return yield new Promise(n=>{(new Date).getTime();const r=this.transport.subscribe("ethop_subscribe",[e,t],"ethop_unsubscribe",e=>{r.then(e=>e.unsubscribe()).catch(e=>console.log("WebSocket connection closed with reason: "+e)),n(e)})});while(1){const n=yield this.getPriorityOpStatus(e),r="COMMIT"===t?n.block&&n.block.committed:n.block&&n.block.verified;if(r)return n;yield s.sleep(this.pollIntervalMilliSecs)}}))}notifyTransaction(e,t){return r(this,void 0,void 0,(function*(){if(this.transport.subscriptionsSupported())return yield new Promise(n=>{const r=this.transport.subscribe("tx_subscribe",[e,t],"tx_unsubscribe",e=>{r.then(e=>e.unsubscribe()).catch(e=>console.log("WebSocket connection closed with reason: "+e)),n(e)})});while(1){const n=yield this.getTxReceipt(e),r="COMMIT"==t?n.block&&n.block.committed:n.block&&n.block.verified;if(r)return n;yield s.sleep(this.pollIntervalMilliSecs)}}))}getTransactionFee(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield this.transport.request("get_tx_fee",[e,t.toString(),n]);return{feeType:r.feeType,gasTxAmount:o.BigNumber.from(r.gasTxAmount),gasPriceWei:o.BigNumber.from(r.gasPriceWei),gasFee:o.BigNumber.from(r.gasFee),zkpFee:o.BigNumber.from(r.zkpFee),totalFee:o.BigNumber.from(r.totalFee)}}))}getTransactionsBatchFee(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield this.transport.request("get_txs_batch_fee_in_wei",[e,t,n]);return o.BigNumber.from(r.totalFee)}))}getTokenPrice(e){return r(this,void 0,void 0,(function*(){const t=yield this.transport.request("get_token_price",[e]);return parseFloat(t)}))}disconnect(){return r(this,void 0,void 0,(function*(){return yield this.transport.disconnect()}))}}t.Provider=u;class c{constructor(e,t){this.ethersProvider=e,this.contractAddress=t,this.governanceContract=new o.Contract(this.contractAddress.govContract,s.SYNC_GOV_CONTRACT_INTERFACE,this.ethersProvider),this.mainContract=new o.Contract(this.contractAddress.mainContract,s.SYNC_MAIN_CONTRACT_INTERFACE,this.ethersProvider)}resolveTokenId(e){return r(this,void 0,void 0,(function*(){if(s.isTokenETH(e))return 0;{const t=yield this.governanceContract.tokenIds(e);if(0==t)throw new Error(`ERC20 token ${e} is not supported`);return t}}))}}t.ETHProxy=c},c46d:function(e,t,n){"use strict";var r=n("e9ac"),i=r("%TypeError%"),o=r("%SyntaxError%"),s=n("a0d3"),a={"Property Descriptor":function(e,t){if("Object"!==e(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(s(t,r)&&!n[r])return!1;var o=s(t,"[[Value]]"),a=s(t,"[[Get]]")||s(t,"[[Set]]");if(o&&a)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var s=a[t];if("function"!==typeof s)throw new o("unknown record type: "+t);if(!s(e,r))throw new i(n+" must be a "+t)}},c885:function(e,t,n){const r=n("1775"),{isPromise:i,createErrorType:o,tryCall:s}=n("0437");class a{constructor(e){this._options=Object.assign({},r,e),this._resolve=null,this._reject=null,this._isPending=!1,this._isFulfilled=!1,this._isRejected=!1,this._value=void 0,this._promise=null,this._timer=null}get promise(){return this._promise}get value(){return this._value}get isPending(){return this._isPending}get isFulfilled(){return this._isFulfilled}get isRejected(){return this._isRejected}get isSettled(){return this._isFulfilled||this._isRejected}call(e){return this._isPending||(this.reset(),this._createPromise(),this._createTimer(),this._callFn(e)),this._promise}resolve(e){this._isPending&&(i(e)?this._tryAttachToPromise(e):(this._settle(e),this._isFulfilled=!0,this._resolve(e)))}reject(e){this._isPending&&(this._settle(e),this._isRejected=!0,this._reject(e))}reset(){if(this._isPending){const e=s(this._options.resetReason),t=new a.ResetError(e);this.reject(t)}this._promise=null,this._isPending=!1,this._isFulfilled=!1,this._isRejected=!1,this._value=void 0,this._clearTimer()}configure(e){Object.assign(this._options,e)}_createPromise(){this._promise=new Promise((e,t)=>{this._isPending=!0,this._resolve=e,this._reject=t})}_handleTimeout(){const e=s(this._options.timeoutReason),t="string"===typeof e?e.replace("{timeout}",this._options.timeout):"",n=new a.TimeoutError(t);this.reject(n)}_createTimer(){this._options.timeout&&(this._timer=setTimeout(()=>this._handleTimeout(),this._options.timeout))}_clearTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_settle(e){this._isPending=!1,this._value=e,this._clearTimer()}_callFn(e){if("function"===typeof e)try{const t=e();this._tryAttachToPromise(t)}catch(t){this.reject(t)}}_tryAttachToPromise(e){i(e)&&e.then(e=>this.resolve(e),e=>this.reject(e))}}a.TimeoutError=o("TimeoutError"),a.ResetError=o("ResetError"),e.exports=a},d4ab:function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},d56d:function(e,t){e.exports={createWebSocket:e=>new WebSocket(e),packMessage:null,unpackMessage:null,attachRequestId:null,extractRequestId:null,extractMessageData:e=>e.data,timeout:0,connectionTimeout:0}},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d6c7:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n("d4ab"),o=Object.keys,s=o?function(e){return o(e)}:n("b189"),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?a(r.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},dbbe:function(e,t,n){"use strict";var r=n("2057");e.exports=function(e,t){return e===t?0!==e||1/e===1/t:r(e)&&r(t)}},df7c:function(e){e.exports=JSON.parse('{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"blockNumber","type":"uint32"}],"name":"BlockCommit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"blockNumber","type":"uint32"}],"name":"BlockVerification","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint32","name":"totalBlocksVerified","type":"uint32"},{"indexed":false,"internalType":"uint32","name":"totalBlocksCommitted","type":"uint32"}],"name":"BlocksRevert","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"zkSyncBlockId","type":"uint32"},{"indexed":true,"internalType":"uint32","name":"accountId","type":"uint32"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint16","name":"tokenId","type":"uint16"},{"indexed":false,"internalType":"uint128","name":"amount","type":"uint128"}],"name":"DepositCommit","type":"event"},{"anonymous":false,"inputs":[],"name":"ExodusMode","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint32","name":"nonce","type":"uint32"},{"indexed":false,"internalType":"bytes","name":"fact","type":"bytes"}],"name":"FactAuth","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"zkSyncBlockId","type":"uint32"},{"indexed":true,"internalType":"uint32","name":"accountId","type":"uint32"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint16","name":"tokenId","type":"uint16"},{"indexed":false,"internalType":"uint128","name":"amount","type":"uint128"}],"name":"FullExitCommit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint64","name":"serialId","type":"uint64"},{"indexed":false,"internalType":"enum Operations.OpType","name":"opType","type":"uint8"},{"indexed":false,"internalType":"bytes","name":"pubData","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"expirationBlock","type":"uint256"}],"name":"NewPriorityRequest","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"uint16","name":"tokenId","type":"uint16"},{"indexed":false,"internalType":"uint128","name":"amount","type":"uint128"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"OnchainDeposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint16","name":"tokenId","type":"uint16"},{"indexed":false,"internalType":"uint128","name":"amount","type":"uint128"}],"name":"OnchainWithdrawal","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint32","name":"queueStartIndex","type":"uint32"},{"indexed":false,"internalType":"uint32","name":"queueEndIndex","type":"uint32"}],"name":"PendingWithdrawalsAdd","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint32","name":"queueStartIndex","type":"uint32"},{"indexed":false,"internalType":"uint32","name":"queueEndIndex","type":"uint32"}],"name":"PendingWithdrawalsComplete","type":"event"},{"constant":true,"inputs":[],"name":"EMPTY_STRING_KECCAK","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint32","name":"","type":"uint32"}],"name":"authFacts","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes22","name":"","type":"bytes22"}],"name":"balancesToWithdraw","outputs":[{"internalType":"uint128","name":"balanceToWithdraw","type":"uint128"},{"internalType":"uint8","name":"gasReserveValue","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint32","name":"","type":"uint32"}],"name":"blocks","outputs":[{"internalType":"uint32","name":"committedAtBlock","type":"uint32"},{"internalType":"uint64","name":"priorityOperations","type":"uint64"},{"internalType":"uint32","name":"chunks","type":"uint32"},{"internalType":"bytes32","name":"withdrawalsDataHash","type":"bytes32"},{"internalType":"bytes32","name":"commitment","type":"bytes32"},{"internalType":"bytes32","name":"stateRoot","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint64","name":"_n","type":"uint64"}],"name":"cancelOutstandingDepositsForExodusMode","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint32","name":"_blockNumber","type":"uint32"},{"internalType":"uint32","name":"_feeAccount","type":"uint32"},{"internalType":"bytes32[]","name":"_newBlockInfo","type":"bytes32[]"},{"internalType":"bytes","name":"_publicData","type":"bytes"},{"internalType":"bytes","name":"_ethWitness","type":"bytes"},{"internalType":"uint32[]","name":"_ethWitnessSizes","type":"uint32[]"}],"name":"commitBlock","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint32","name":"_n","type":"uint32"}],"name":"completeWithdrawals","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract IERC20","name":"_token","type":"address"},{"internalType":"uint104","name":"_amount","type":"uint104"},{"internalType":"address","name":"_franklinAddr","type":"address"}],"name":"depositERC20","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_franklinAddr","type":"address"}],"name":"depositETH","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint32","name":"_accountId","type":"uint32"},{"internalType":"uint16","name":"_tokenId","type":"uint16"},{"internalType":"uint128","name":"_amount","type":"uint128"},{"internalType":"uint256[]","name":"_proof","type":"uint256[]"}],"name":"exit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint32","name":"","type":"uint32"},{"internalType":"uint16","name":"","type":"uint16"}],"name":"exited","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"exodusMode","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"firstPendingWithdrawalIndex","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"firstPriorityRequestId","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint32","name":"_accountId","type":"uint32"},{"internalType":"address","name":"_token","type":"address"}],"name":"fullExit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint16","name":"_tokenId","type":"uint16"}],"name":"getBalanceToWithdraw","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"getNoticePeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"initializationParameters","type":"bytes"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"isReadyForUpgrade","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"numberOfPendingWithdrawals","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint32","name":"","type":"uint32"}],"name":"pendingWithdrawals","outputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint16","name":"tokenId","type":"uint16"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint64","name":"","type":"uint64"}],"name":"priorityRequests","outputs":[{"internalType":"enum Operations.OpType","name":"opType","type":"uint8"},{"internalType":"bytes","name":"pubData","type":"bytes"},{"internalType":"uint256","name":"expirationBlock","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint32","name":"_maxBlocksToRevert","type":"uint32"}],"name":"revertBlocks","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_pubkey_hash","type":"bytes"},{"internalType":"uint32","name":"_nonce","type":"uint32"}],"name":"setAuthPubkeyHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalBlocksCommitted","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalBlocksVerified","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalCommittedPriorityRequests","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalOpenPriorityRequests","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"triggerExodusIfNeeded","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"upgradeParameters","type":"bytes"}],"name":"upgrade","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"upgradeCanceled","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"upgradeFinishes","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"upgradeNoticePeriodStarted","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"upgradePreparationActivationTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"upgradePreparationActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"upgradePreparationStarted","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint32","name":"_blockNumber","type":"uint32"},{"internalType":"uint256[]","name":"_proof","type":"uint256[]"},{"internalType":"bytes","name":"_withdrawalsData","type":"bytes"}],"name":"verifyBlock","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract IERC20","name":"_token","type":"address"},{"internalType":"uint128","name":"_amount","type":"uint128"}],"name":"withdrawERC20","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract IERC20","name":"_token","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint128","name":"_amount","type":"uint128"},{"internalType":"uint128","name":"_maxAmount","type":"uint128"}],"name":"withdrawERC20Guarded","outputs":[{"internalType":"uint128","name":"withdrawnAmount","type":"uint128"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint128","name":"_amount","type":"uint128"}],"name":"withdrawETH","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]}')},e347:function(e,t){t.throwIf=(e,t)=>{if(e)throw new Error(t)}},e9ac:function(e,t,n){"use strict";var r,i=TypeError,o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(E){o=null}var s,a,u,c=function(){throw new i},l=o?function(){try{return c}catch(e){try{return o(arguments,"callee").get}catch(t){return c}}}():c,p=n("5156")(),d=Object.getPrototypeOf||function(e){return e.__proto__},y=s?d(s):r,f=a?a.constructor:r,h=u?d(u):r,m=u?u():r,b="undefined"===typeof Uint8Array?r:d(Uint8Array),g={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):r,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncFunctionPrototype%":f?f.prototype:r,"%AsyncGenerator%":u?d(m):r,"%AsyncGeneratorFunction%":h,"%AsyncGeneratorPrototype%":h?h.prototype:r,"%AsyncIteratorPrototype%":m&&p&&Symbol.asyncIterator?m[Symbol.asyncIterator]():r,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?r:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?r:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?r:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?r:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":s?d(s()):r,"%GeneratorFunction%":y,"%GeneratorPrototype%":y?y.prototype:r,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?r:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?r:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?r:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%JSONParse%":"object"===typeof JSON?JSON.parse:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&p?d((new Map)[Symbol.iterator]()):r,"%MapPrototype%":"undefined"===typeof Map?r:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%PromisePrototype%":"undefined"===typeof Promise?r:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?r:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?r:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?r:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?r:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&p?d((new Set)[Symbol.iterator]()):r,"%SetPrototype%":"undefined"===typeof Set?r:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):r,"%StringPrototype%":String.prototype,"%Symbol%":p?Symbol:r,"%SymbolPrototype%":p?Symbol.prototype:r,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":l,"%TypedArray%":b,"%TypedArrayPrototype%":b?b.prototype:r,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?r:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?r:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?r:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?r:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?r:WeakSet.prototype},v=n("0f7c"),w=v.call(Function.call,String.prototype.replace),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,k=function(e){var t=[];return w(e,_,(function(e,n,r,i){t[t.length]=r?w(i,T,"$1"):n||e})),t},S=function(e,t){if(!(e in g))throw new SyntaxError("intrinsic "+e+" does not exist!");if("undefined"===typeof g[e]&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return g[e]};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=k(e),r=S("%"+(n.length>0?n[0]:"")+"%",t),s=1;s<n.length;s+=1)if(null!=r)if(o&&s+1>=n.length){var a=o(r,n[s]);if(!t&&!(n[s]in r))throw new i("base intrinsic for "+e+" exists, but the property is not available.");r=a&&"get"in a&&!("originalValue"in a.get)?a.get:r[n[s]]}else r=r[n[s]];return r}},edf5:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.wallet=t.crypto=t.utils=t.types=t.getDefaultProvider=t.closestPackableTransactionAmount=t.closestPackableTransactionFee=t.ETHProxy=t.Provider=t.Signer=t.Wallet=void 0;const s=n("85a0");Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return s.Wallet}});const a=n("c442");Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return a.Provider}}),Object.defineProperty(t,"ETHProxy",{enumerable:!0,get:function(){return a.ETHProxy}}),Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return a.getDefaultProvider}});const u=n("6def");Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return u.Signer}});const c=n("33c2");Object.defineProperty(t,"closestPackableTransactionAmount",{enumerable:!0,get:function(){return c.closestPackableTransactionAmount}}),Object.defineProperty(t,"closestPackableTransactionFee",{enumerable:!0,get:function(){return c.closestPackableTransactionFee}});const l=o(n("85a0"));t.wallet=l;const p=o(n("ac15"));t.types=p;const d=o(n("33c2"));t.utils=d;const y=o(n("56ba"));t.crypto=y},ee7e:function(e,t,n){"use strict";var r=n("a0d3"),i=n("e9ac"),o=i("%TypeError%"),s=n("3d27"),a=n("72f2"),u=n("7f73");e.exports=function(e){if("Object"!==s(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(r(e,"enumerable")&&(t["[[Enumerable]]"]=a(e.enumerable)),r(e,"configurable")&&(t["[[Configurable]]"]=a(e.configurable)),r(e,"value")&&(t["[[Value]]"]=e.value),r(e,"writable")&&(t["[[Writable]]"]=a(e.writable)),r(e,"get")){var n=e.get;if("undefined"!==typeof n&&!u(n))throw new o("getter must be a function");t["[[Get]]"]=n}if(r(e,"set")){var i=e.set;if("undefined"!==typeof i&&!u(i))throw new o("setter must be a function");t["[[Set]]"]=i}if((r(t,"[[Get]]")||r(t,"[[Set]]"))&&(r(t,"[[Value]]")||r(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},f367:function(e,t,n){"use strict";var r=n("d6c7"),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=function(e){return"function"===typeof e&&"[object Function]"===o.call(e)},c=function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}},l=a&&c(),p=function(e,t,n,r){(!(t in e)||u(r)&&r())&&(l?a(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)p(e,o[a],t[o[a]],n[o[a]])};d.supportsDescriptors=!!l,e.exports=d},f675:function(e){e.exports=JSON.parse('{"abi":[{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"}]}')},fffd:function(e,t,n){"use strict";var r=n("e9ac"),i=n("a0d3"),o=r("%TypeError%");e.exports=function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(i(t,r)&&!n[r])return!1;if(e.IsDataDescriptor(t)&&e.IsAccessorDescriptor(t))throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}}}]);
//# sourceMappingURL=chunk-09148364.59de944a.js.map