(function(t){function e(e){for(var a,o,c=e[0],i=e[1],u=e[2],l=0,p=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);h&&h(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},r={app:0},s=[];function o(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-9baf0e38":"e93c1616"}[t]+".js"}var c={};var i={"938e":function(){return{"./zksync-crypto-bundler.js":{__wbg_new_59cb74e423758ede:function(){return a["325a"].exports["__wbg_new_59cb74e423758ede"]()},__wbg_stack_558ba5917b466edd:function(t,e){return a["325a"].exports["__wbg_stack_558ba5917b466edd"](t,e)},__wbg_error_4bb6c2a97407129a:function(t,e){return a["325a"].exports["__wbg_error_4bb6c2a97407129a"](t,e)},__wbindgen_object_drop_ref:function(t){return a["325a"].exports["__wbindgen_object_drop_ref"](t)}}}}};function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=o(t);var p=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",p.name="ChunkLoadError",p.type=a,p.request=s,n[1](p)}r[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}var h={"chunk-9baf0e38":["938e"]}[t]||[];return h.forEach((function(t){var n=c[t];if(n)e.push(n);else{var a,r=i[t](),s=fetch(u.p+""+{"938e":"895d68a3543e825959db"}[t]+".module.wasm");if(r instanceof Promise&&"function"===typeof WebAssembly.compileStreaming)a=Promise.all([WebAssembly.compileStreaming(s),r]).then((function(t){return WebAssembly.instantiate(t[0],t[1])}));else if("function"===typeof WebAssembly.instantiateStreaming)a=WebAssembly.instantiateStreaming(s,r);else{var o=s.then((function(t){return t.arrayBuffer()}));a=o.then((function(t){return WebAssembly.instantiate(t,r)}))}e.push(c[t]=a.then((function(e){return u.w[t]=(e.instance||e).exports})))}})),Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t},u.w={};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=p;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0c70":function(t,e,n){"use strict";n("9c30")},"0e7e":function(t,e,n){},1:function(t,e){},"222e":function(t,e,n){"use strict";n("2abf")},"2abf":function(t,e,n){},"37a1":function(t,e,n){"use strict";n("59d9")},"38c8":function(t,e,n){},"3e23":function(t,e,n){t.exports=n.p+"img/1.7d3c4e08.svg"},"54ce":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("99af"),n("96cf");var a=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),s=n("5f5b"),o=(n("38c8"),n("4ae6")),c=n.n(o),i={contractAddress:null,config:null,network:null},u=i,l=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},d=[],h={name:"app"},m=h,f=(n("5c0b"),n("2877")),b=Object(f["a"])(m,p,d,!1,null,null,null),_=b.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Navbar"),n("br"),n("b-container",[t.updateError?n("b-alert",{attrs:{variant:"danger",show:""}},[t._v(" "+t._s(t.updateError)+". Try again later. ")]):t._e(),n("b-card",{attrs:{"bg-variant":"light"}},[n("h4",[t._v("zkSync "+t._s(t.store.capitalizedNetwork)+" Block Explorer")]),n("SearchField",{attrs:{searchFieldInMenu:!1}})],1),n("br"),n("b-card",[n("div",{staticClass:"row",staticStyle:{color:"grey"}},[n("div",{staticClass:"col-sm text-center"},[n("i",{staticClass:"far fa-square"}),t._v(" "),n("b",[t._v("Blocks committed")]),n("br"),n("span",{staticClass:"num"},[t._v(t._s(t.lastCommitted))])]),n("div",{staticClass:"col-sm text-center"},[n("i",{staticClass:"far fa-check-square"}),t._v(" "),n("b",[t._v("Blocks verified")]),n("br"),n("span",{staticClass:"num"},[t._v(t._s(t.lastVerified))])]),n("div",{staticClass:"col-sm text-center"},[n("i",{staticClass:"fas fa-list"}),t._v(" "),n("b",[t._v("Total transactions")]),n("br"),n("span",{staticClass:"num"},[t._v(t._s(t.totalTransactions))])])])]),n("br"),t.ready&&t.totalTransactions>t.perPage?n("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":t.rows},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e(),n("b-table",{staticClass:"nowrap",attrs:{responsive:"",hover:"",outlined:"",items:t.items,busy:t.loading},scopedSlots:t._u([{key:"cell(block_number)",fn:function(e){return[n("a",{staticClass:"block_number_link",attrs:{href:"/blocks/"+e.item.block_number}},[t._v(" "+t._s(e.item.block_number)+" ")])]}},{key:"cell(status)",fn:function(e){return[n("ReadinessStatus",{attrs:{status:"Pending"==e.item.status?1:2}}),t._v(" "+t._s(e.item.status)+" ")]}},{key:"cell(new_state_root)",fn:function(e){return[n("a",{attrs:{href:"/blocks/"+e.item.block_number}},[t._v(" "+t._s(e.item.new_state_root.slice(8,40)+"...")+" ")])]}}])}),t.ready&&t.totalTransactions>t.perPage?n("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":t.rows},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)},v=[],y=(n("d81d"),{"http://localhost":{API_SERVER:"http://localhost:3001",ETH_NETWORK:"localhost",WS_API_ADDR:"ws://localhost:3031",HTTP_RPC_API_ADDR:"http://localhost:3030"},"https://stage.zksync.dev":{API_SERVER:"https://stage-api.zksync.dev",ETH_NETWORK:"rinkeby",WS_API_ADDR:"wss://stage-api.zksync.dev/jsrpc-ws",HTTP_RPC_API_ADDR:"https://stage-api.zksync.dev/jsrpc"},"https://rinkeby.zkscan.io":{API_SERVER:"https://rinkeby-api.zksync.io",ETH_NETWORK:"rinkeby",WS_API_ADDR:"wss://rinkeby-api.zksync.io/jsrpc-ws",HTTP_RPC_API_ADDR:"https://rinkeby-api.zksync.io/jsrpc"},"https://ropsten.zkscan.io":{API_SERVER:"https://ropsten-api.zksync.io",ETH_NETWORK:"ropsten",WS_API_ADDR:"wss://ropsten-api.zksync.io/jsrpc-ws",HTTP_RPC_API_ADDR:"https://ropsten-api.zksync.io/jsrpc"},"https://zkscan.io":{API_SERVER:"https://api.zksync.io",ETH_NETWORK:"mainnet",WS_API_ADDR:"wss://api.zksync.io/jsrpc-ws",HTTP_RPC_API_ADDR:"https://api.zksync.io/jsrpc"},"https://dev.zksync.dev":{API_SERVER:"https://dev-api.zksync.dev",ETH_NETWORK:"rinkeby",WS_API_ADDR:"wss://dev-api.zksync.dev/jsrpc-ws",HTTP_RPC_API_ADDR:"https://dev-api.zksync.dev/jsrpc"},"https://breaking.zksync.dev":{API_SERVER:"https://breaking-api.zksync.dev",ETH_NETWORK:"rinkeby",WS_API_ADDR:"wss://breaking-api.zksync.dev/jsrpc-ws",HTTP_RPC_API_ADDR:"https://breaking-api.zksync.dev/jsrpc"}}["".concat(location.protocol,"//").concat(location.hostname)]),x=20,g=50,w=(n("4de4"),n("4fad"),n("d3b7"),n("07ac"),n("25f0"),n("3ca3"),n("4d90"),n("ddb0"),n("5530")),P=n("3835"),T=n("d4ec"),R=n("bee2"),C=(n("caad"),n("fb6a"),n("ac1f"),n("466d"),n("1276"),n("2ca0"),n("c030"),function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());function A(t,e){try{return"".concat(t.slice(0,14),"...")}catch(n){return e||"unknown"}}function S(t){return null==t?"":t.toString().split("T")[0]+" "+t.toString().split("T")[1].slice(0,8)+" UTC"}function D(t,e){return window.syncProvider.tokenSet.formatToken(e,t)}function E(t){return"string"!==typeof t?"":t?t[0].toUpperCase()+t.slice(1):void 0}var O=n("bc3a"),j=n.n(O),N=function(){function t(e){Object(T["a"])(this,t),this.providerAddress=e}return Object(R["a"])(t,[{key:"getAccountTransactions",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="".concat(this.providerAddress,"/api/v0.1/account/").concat(e,"/history/").concat(n,"/").concat(a),t.next=3,j.a.get(r).then((function(t){return t.data}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(e,n,a){return t.apply(this,arguments)}return e}()}]),t}(),H=n("6779"),F=n("2606"),z=n.e("chunk-9baf0e38").then(n.t.bind(null,"d1b6",7));function W(t){return B.apply(this,arguments)}function B(){return B=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j()(e);case 2:if(n=t.sent,200!=n.status){t.next=7;break}return t.abrupt("return",n.data);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}function I(){return y.API_SERVER+"/api/v0.1"}var L=function(){function t(e){Object(T["a"])(this,t),Object.assign(this,e)}return Object(R["a"])(t,[{key:"getNumConfirmationsToWait",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.syncProvider.getConfirmationsForEthOpAmount();case 2:return n=t.sent,t.next=5,this.ethersProvider.getBlockNumber();case 5:return a=t.sent,t.abrupt("return",n-(a-e));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"testnetConfig",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",W({method:"get",url:"".concat(I(),"/testnet_config")}));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"status",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",W({method:"get",url:"".concat(I(),"/status")}));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadBlocks",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",W({method:"get",url:"".concat(I(),"/blocks?max_block=").concat(e,"&limit=").concat(x)}));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getBlock",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",W({method:"get",url:"".concat(I(),"/blocks/").concat(e)}));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getBlockTransactions",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W({method:"get",url:"".concat(I(),"/blocks/").concat(e,"/transactions")});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"searchBlock",value:function(t){return W({method:"get",url:"".concat(I(),"/search?query=").concat(t)})}},{key:"searchTx",value:function(t){return W({method:"get",url:"".concat(I(),"/transactions_all/").concat(t)})}},{key:"getAccount",value:function(t){return window.syncProvider.getState(t)}},{key:"getCommitedBalances",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAccount(e);case 2:return n=t.sent,t.abrupt("return",Object.entries(n.committed.balances).map((function(t){var e=Object(P["a"])(t,2),n=e[0],a=e[1];return{tokenSymbol:n,balance:D(a,n)}})));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"tokenNameFromId",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.tokensPromise;case 2:return t.t0=e,t.abrupt("return",t.sent[t.t0].syncSymbol);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"tokenNameFromSymbol",value:function(t){return"".concat(t.toString())}},{key:"transactionsAsRenderableList",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n,r){var s,o,c,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return console.log(e),t.abrupt("return",[]);case 3:return t.next=5,this.blockExplorerClient.getAccountTransactions(e,n,r);case 5:return s=t.sent,o=s.map(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,a){var r,s,o,c,u,l,p,d,h,m,f,b,_,k,v,y,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r="history_".concat(a),s=n.tx.type||"",o=n.hash,c=n.created_at,u="Deposit"==s?n.tx.priority_op.to:"FullExit"==s?n.tx.priority_op.eth_address:"Close"==s||"ChangePubKey"==s?n.tx.account:n.tx.to,l=u==e?"incoming":"outcoming",p=n.verified?'<span style="color: green">(verified)</span>':null==n.success?'<span style="color: grey">(pending)</span>':1==n.success?'<span style="color: grey">(succeeded)</span>':n.commited?'<span style="color: grey">(committed)</span>':null!=n.fail_reason?'<span style="color: red">(failed)</span>':'<span style="color: red">(Unknown status)</span>',d=n.verified?'<span style="color: green">Verified</span>':n.commited?'<span style="color: grey">Committed</span>':n.fail_reason?'<span style="color: red">Failed with '.concat(n.fail_reason,"</span>"):'<span style="color: red">(Unknown status)</span>',h={elem_id:r,type:s,direction:l,status:p,row_status:d,hash:o,created_at:c},t.t0=!0,t.next=t.t0===("Deposit"==s)?12:t.t0===("FullExit"==s)?15:t.t0===("Transfer"==s)?18:t.t0===("Withdraw"==s)?21:t.t0===("Close"==s)?24:t.t0===("ChangePubKey"==s)?25:26;break;case 12:return m=i.tokenNameFromSymbol(n.tx.priority_op.token),f=D(n.tx.priority_op.amount,m),t.abrupt("return",{fields:[{key:"amount",label:"Amount"},{key:"row_status",label:"Status"},{key:"pq_id",label:"Priority op"}],data:Object(w["a"])(Object(w["a"])({},h),{},{from:n.tx.priority_op.from,to:u,pq_id:n.pq_id,token:m,amount:f})});case 15:return b=i.tokenNameFromSymbol(n.tx.priority_op.token),_=D(n.tx.withdraw_amount||0,b),t.abrupt("return",{fields:[{key:"amount",label:"Amount"},{key:"row_status",label:"Status"},{key:"pq_id",label:"Priority op"}],data:Object(w["a"])(Object(w["a"])({},h),{},{from:n.tx.priority_op.eth_address,to:u,pq_id:n.pq_id,token:b,amount:_})});case 18:return k=i.tokenNameFromSymbol(n.tx.token),v=D(n.tx.amount,k),t.abrupt("return",{fields:[{key:"amount",label:"Amount"},{key:"to",label:"To"},{key:"row_status",label:"Status"},{key:"hash",label:"Tx hash"}],data:Object(w["a"])(Object(w["a"])({},h),{},{from:n.tx.from,to:u,token:k,amount:v})});case 21:return y=i.tokenNameFromSymbol(n.tx.token),x=D(n.tx.amount,y),t.abrupt("return",{fields:[{key:"amount",label:"Amount"},{key:"row_status",label:"Status"},{key:"hash",label:"Tx hash"}],data:Object(w["a"])(Object(w["a"])({},h),{},{from:n.tx.from,to:u,token:y,amount:x})});case 24:return t.abrupt("return",{fields:[],data:Object(w["a"])(Object(w["a"])({},h),{},{from:n.tx.account,to:""})});case 25:return t.abrupt("return",{fields:[],data:Object(w["a"])(Object(w["a"])({},h),{},{from:n.tx.account,to:""})});case 26:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),t.next=9,Promise.all(o);case 9:return c=t.sent,t.abrupt("return",c.filter(Boolean));case 11:case"end":return t.stop()}}),t,this)})));function e(e,n,a){return t.apply(this,arguments)}return e}()},{key:"loadTokens",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",W({method:"get",url:"".concat(I(),"/tokens")}));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}],[{key:"new",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z;case 2:return n=e.sent,e.next=5,n.Provider.newHttpProvider(y.HTTP_RPC_API_ADDR);case 5:return window.syncProvider=e.sent,a=window.syncProvider.getTokens().then((function(t){for(var e={},n=0,a=Object.values(t);n<a.length;n++){var r=a[n],s=r.symbol||"".concat(r.id.toString().padStart(3,"0")),o="".concat(s);e[r.id]=Object(w["a"])(Object(w["a"])({},r),{},{symbol:s,syncSymbol:o})}return e})),r=new N(y.API_SERVER),s="localhost"==y.ETH_NETWORK?new H["providers"].JsonRpcProvider("http://localhost:8545"):F["getDefaultProvider"](),o={blockExplorerClient:r,tokensPromise:a,ethersProvider:s,syncProvider:window.syncProvider},e.abrupt("return",new t(o));case 11:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}]),t}(),M=L.new(),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("b-jumbotron",{staticStyle:{position:"relative"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Welcome to zkSync "),a("div",{staticClass:"jumbotronCloseButton",on:{click:t.dontshow}},[a("img",{attrs:{src:n("c077"),width:"20",height:"20"}})])]},proxy:!0},{key:"lead",fn:function(){return[t._v(" This is a testnet of ZK Rollup for ERC-20 transfers. Play around with the demo! ")]},proxy:!0}],null,!1,2760126457)},[a("b-button",{staticClass:"tryWalletButton",attrs:{size:"lg",variant:"primary",href:"/client/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Try demo wallet")])],1):t._e()},q=[],V={name:"ClosableJumbotron",data:function(){return{show:!0}},methods:{dontshow:function(){this.show=!1}}},K=V,U=(n("de84"),Object(f["a"])(K,$,q,!1,null,"93ddc814",null)),Q=U.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{container:t.searchFieldInMenu}},[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.search(e)}}},[n("b-input-group",{attrs:{position:"relative"}},[n("b-form-input",{attrs:{placeholder:"block number, tx hash, state root hash, account address"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),n("b-input-group-append",[n("b-button",{staticStyle:{"box-shadow":"inset 0 0 2px rgba(255, 255, 255, 0.4)"},attrs:{variant:(t.searchFieldInMenu,"info"),disabled:t.searching},on:{click:t.search}},[t.searching?n("b-spinner",{attrs:{small:""}}):t._e(),n("span",[t._v("Search")])],1)],1),t.notFound&&!t.searchFieldInMenu?n("b-form-invalid-feedback",{attrs:{state:!1}},[t._v(" Nothing found for query '"+t._s(t.query)+"'. ")]):t._e(),t.notFound&&t.searchFieldInMenu?n("b-form-invalid-feedback",{staticClass:"search-field-in-menu",attrs:{state:!1}},[t._v(" Nothing found. ")]):t._e()],1)],1)],1)},Z=[],G=(n("498a"),{name:"SearchField",props:["searchFieldInMenu"],data:function(){return{query:null,loading:!0,searching:!1,notFound:!1}},methods:{search:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s,o,c,i,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.query){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M;case 4:for(n=e.sent,t.notFound=!1,t.searching=!0,a=t.query.trim(),r=0,s=["0x","sync-tx:","sync-bl:","sync:"];r<s.length;r++)o=s[r],a.startsWith(o)&&(a=a.slice(o.length));return e.next=11,n.searchBlock(a).catch((function(){return null}));case 11:if(c=e.sent,!c||!c.block_number){e.next=16;break}return t.$router.push("/blocks/"+c.block_number),t.searching=!1,e.abrupt("return");case 16:return e.next=18,n.searchTx(a).catch((function(){return null}));case 18:if(i=e.sent,!i||!i.tx_type){e.next=24;break}return u="",t.$router.push("/transactions/"+u+a),t.searching=!1,e.abrupt("return");case 24:return e.next=26,n.getAccount("0x"+a).catch((function(){return null}));case 26:if(l=e.sent,!l||!l.id){e.next=31;break}return t.$router.push("/accounts/0x"+a),t.searching=!1,e.abrupt("return");case 31:return t.searching=!1,t.notFound=!0,e.next=35,new Promise((function(t){return setTimeout(t,3600)}));case 35:t.notFound=!1;case 36:case"end":return e.stop()}}),e)})))()}}}),X=G,Y=(n("9369"),Object(f["a"])(X,J,Z,!1,null,"dce2f158",null)),tt=Y.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.address?n("span",[n("span",{staticClass:"link-html-span mr-1",domProps:{innerHTML:t._s(t.linkHtml)}}),!0===t.tooltipRight?n("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:t.hover_title,expression:"hover_title",modifiers:{hover:!0,right:!0}},{name:"clipboard",rawName:"v-clipboard",value:t.address,expression:"address"}],staticClass:"far fa-copy cursorpointer",on:{click:t.clicked,mouseenter:t.mouseEntered}}):n("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:t.hover_title,expression:"hover_title"},{name:"clipboard",rawName:"v-clipboard",value:t.address,expression:"address"}],staticClass:"far fa-copy cursorpointer",on:{click:t.clicked,mouseenter:t.mouseEntered}})]):t._e()},nt=[],at={name:"CopyableAddress",props:["address","linkHtml","tooltipRight"],data:function(){return{hover_title:""}},methods:{clicked:function(t){this.hover_title="Copied",t.stopPropagation()},mouseEntered:function(){this.hover_title="Click to copy"}}},rt=at,st=(n("222e"),Object(f["a"])(rt,et,nt,!1,null,"1104be27",null)),ot=st.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:t.text,expression:"text"}],staticClass:"far fa-question-circle displaynone"})},it=[],ut={name:"Question",props:["text"]},lt=ut,pt=Object(f["a"])(lt,ct,it,!1,null,null,null),dt=pt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[a("b-container",[a("b-navbar-brand",{attrs:{href:"/"}},[a("a",{attrs:{href:"https://zksync.io",target:"_blank"}},[a("img",{staticClass:"navbar-hero-img",attrs:{src:n("d8cf")}})]),a("b-badge",{staticClass:"hero-network-name",attrs:{variant:"primary"}},[t._v(t._s(t.store.capitalizedNetwork))])],1),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[t.store.contractAddress?a("b-nav-item",{staticClass:"nowrap",attrs:{href:t.blockchainExplorerAddress+"/"+t.store.contractAddress,target:"_blank",rel:"noopener noreferrer"}},[t._v(" Contract "),a("span",{staticStyle:{"font-size":"0.9em"}},[a("i",{staticClass:"fas fa-external-link-alt"})])]):t._e(),a("b-nav-item",{staticClass:"nowrap",attrs:{href:"/tokens"}},[t._v(" Tokens ")]),t.store.walletLink?a("b-nav-item",{staticClass:"nowrap",attrs:{href:t.store.walletLink,target:"_blank",rel:"noopener noreferrer"}},[t._v(" Wallet "),a("span",{staticStyle:{"font-size":"0.9em"}},[a("i",{staticClass:"fas fa-external-link-alt"})])]):t._e()],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[a("SearchField",{attrs:{searchFieldInMenu:!0}})],1)],1)],1)],1)],1)},mt=[],ft={SearchField:tt},bt={name:"Navbar",components:ft,created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M;case 2:return n=e.sent,e.next=5,n.testnetConfig();case 5:a=e.sent,r=a.contractAddress,t.store.contractAddress=r;case 8:case"end":return e.stop()}}),e)})))()}},_t=bt,kt=(n("a0c5"),Object(f["a"])(_t,ht,mt,!1,null,"b0e18614",null)),vt=kt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"mr-1"},[-1==t.getStatus?a("i",{staticClass:"fas fa-times red"}):0==t.getStatus?a("b-spinner",{attrs:{small:"",label:"Small Spinner"}}):1==t.getStatus?a("img",{staticClass:"readiness-image",attrs:{small:"",src:n("89b4")}}):2==t.getStatus?a("img",{staticClass:"readiness-image",attrs:{small:"",src:n("3e23")}}):t._e()],1)},xt=[],gt={name:"ReadinessStatus",props:["status"],computed:{getStatus:function(){if([-1].includes(this.status))return-1;if([0].includes(this.status))return 0;if([1].includes(this.status))return 1;if([2].includes(this.status))return 2;throw new Error("Invalid status")}}},wt=gt,Pt=(n("0c70"),Object(f["a"])(wt,yt,xt,!1,null,"6b8ee6d6",null)),Tt=Pt.exports,Rt={ClosableJumbotron:Q,SearchField:tt,CopyableAddress:ot,Question:dt,Navbar:vt,ReadinessStatus:Tt},Ct={name:"home",created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.update();case 1:case"end":return e.stop()}}),e)})))()},timers:{ticker:{time:1e3,autostart:!0,repeat:!0}},data:function(){return{lastCommitted:0,lastVerified:0,totalTransactions:0,currentPage:this.$route.query.page||1,txPerBlock:g,blocks:[],ready:!1,loading:!0,contractAddress:null,breadcrumbs:[{text:"Blocks",active:!0}],updateError:null}},computed:{page:function(){return this.$route.query.page||1},items:function(){return this.blocks},perPage:function(){return x},rows:function(){return this.lastCommitted||9999}},methods:{ticker:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.update(!0);case 3:t.updateError=null,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.updateError=e.t0.message||"Unknown error";case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},onRowClicked:function(t){this.$router.push("/blocks/"+t.block_number)},onPageChanged:function(t){this.$router.push("".concat(this.$route.path,"?page=").concat(t))},update:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t||(e.loading=!0),n.next=3,M;case 3:return a=n.sent,n.next=6,a.status();case 6:if(r=n.sent,s=!1,r&&(s=e.lastCommitted!==r.last_committed||e.lastVerified!==r.last_verified,e.lastCommitted=r.last_committed,e.lastVerified=r.last_verified,e.totalTransactions=r.total_transactions),!s){n.next=12;break}return n.next=12,e.updateBlocks();case 12:e.loading=!1;case 13:case"end":return n.stop()}}),n)})))()},updateBlocks:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M;case 2:if(n=e.sent,a=t.lastCommitted-x*(t.currentPage-1),!(a<0)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.loadBlocks(a);case 8:r=e.sent,r&&(t.blocks=r.map((function(t){return{block_number:t.block_number,status:"".concat(t.verified_at?"Verified":"Pending"),new_state_root:t.new_state_root,accepted_at:S(t.committed_at),verified_at:S(t.verified_at)}})),t.currentPage=t.page,t.ready=!0),t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()}},watch:{$route:function(t,e){this.currentPage=this.page,this.updateBlocks()}},components:Rt},At=Ct,St=(n("6228"),Object(f["a"])(At,k,v,!1,null,null,null)),Dt=St.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("br"),a("b-container",[a("b-breadcrumb",{attrs:{items:t.breadcrumbs}}),"loading"==t.loadingStatus?a("div",[a("img",{staticStyle:{"margin-right":"1.5em"},attrs:{src:n("cf1c"),width:"100em"}})]):"not committed"==t.loadingStatus?a("div",[t._v(" This block is not committed yet. ")]):a("div",[a("h5",[t._v("Block data")]),a("b-card",{attrs:{"no-body":""}},[a("b-table",{staticClass:"nowrap",attrs:{responsive:"",id:"my-table","thead-class":"displaynone",items:t.props,busy:t.isBusy},scopedSlots:t._u([{key:"cell(value)",fn:function(e){return["New root hash"==e.item.name?a("CopyableAddress",{attrs:{address:t.new_state_root,linkHtml:e.item.value}}):"Commit tx hash"==e.item.name?a("CopyableAddress",{attrs:{address:t.commit_tx_hash,linkHtml:e.item.value}}):"Verify tx hash"==e.item.name?a("CopyableAddress",{attrs:{address:t.verify_tx_hash,linkHtml:e.item.value}}):"Status"==e.item.name?a("span",[a("ReadinessStatus",{attrs:{status:"Pending"==e.item.value?1:2}}),a("span",{staticClass:"mr-1",domProps:{innerHTML:t._s(e.item.value)}}),a("Question",{attrs:{text:e.item.value}})],1):a("span",{domProps:{innerHTML:t._s(e.item.value)}})]}}])})],1),a("br"),a("h5",[t._v("Transactions in this block")]),a("TransactionList",{attrs:{transactions:t.transactions}})],1)],1)],1)},Ot=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-table",{staticClass:"nowrap",attrs:{responsive:"",id:"my-table",hover:"",outlined:"",items:t.transactions,"per-page":t.rowsPerPage,"current-page":t.currentPage,fields:t.fields},scopedSlots:t._u([{key:"cell(tx_hash)",fn:function(e){return[n("a",{attrs:{href:"/transactions/"+e.item["tx_hash"]}},[t._v(" "+t._s(t.shortenHash(e.item["tx_hash"]))+" ")])]}},{key:"cell(type)",fn:function(e){return[n("span",{domProps:{innerHTML:t._s(e.item["type"])}})]}},{key:"cell(from)",fn:function(e){return[n("span",{domProps:{innerHTML:t._s(e.item["from"])}})]}},{key:"cell(to)",fn:function(e){return[n("span",{domProps:{innerHTML:t._s(e.item["to"])}})]}}])}),t.transactions.length>t.rowsPerPage?n("b-pagination",{staticClass:"mt-2 mb-2",attrs:{"per-page":t.rowsPerPage,"total-rows":t.transactions.length},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)},Nt=[],Ht=(n("b64b"),{CopyableAddress:ot}),Ft={name:"transaction-list",props:["blockNumber","transactions"],data:function(){return{currentPage:1,rowsPerPage:1e3}},methods:{onRowClicked:function(t){this.$parent.$router.push("/transactions/"+t.tx_hash)},shortenHash:A},computed:{fields:function(){return 0==this.transactions.length?[]:Object.keys(this.transactions[0]).filter((function(t){return!["fromAddr","toAddr"].includes(t)}))}},components:Ht},zt=Ft,Wt=Object(f["a"])(zt,jt,Nt,!1,null,null,null),Bt=Wt.exports,It={TransactionList:Bt,SearchField:tt,CopyableAddress:ot,Navbar:vt,Question:dt,ReadinessStatus:Tt},Lt={name:"Block",created:function(){this.update()},data:function(){return{new_state_root:null,commit_tx_hash:null,verify_tx_hash:null,committed_at:null,verified_at:null,status:null,transactions:[],loadingStatus:"loading"}},computed:{isBusy:function(){return!1},blockNumber:function(){return this.$route.params.blockNumber},breadcrumbs:function(){return[{text:"All blocks",to:"/"},{text:"Block "+this.blockNumber,active:!0}]},rows:function(){return this.items.length},props:function(){return[{name:"Block Number",value:"".concat(this.blockNumber)},{name:"Block Size",value:"".concat(this.block_size)},{name:"New root hash",value:"".concat(this.new_state_root)},{name:"Status",value:this.status},{name:"Commit tx hash",value:this.commit_tx_hash?'<a target="blanc" href="'.concat(this.blockchainExplorerTx,"/").concat(this.commit_tx_hash,'">').concat(this.commit_tx_hash,' <i class="fas fa-external-link-alt"></i></a>'):"Not yet sent on the chain."},{name:"Committed at",value:S(this.committed_at)},{name:"Verify tx hash",value:this.verify_tx_hash?'<a target="blanc" href="'.concat(this.blockchainExplorerTx,"/").concat(this.verify_tx_hash,'">').concat(this.verify_tx_hash,' <i class="fas fa-external-link-alt"></i></a>'):"Not yet sent on the chain."},{name:"Verified at",value:S(this.verified_at)}]}},methods:{update:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M;case 2:return n=e.sent,e.next=5,n.getBlock(t.blockNumber).catch((function(){return null}));case 5:if(a=e.sent,console.log({block:a}),a){e.next=10;break}return t.loadingStatus="not committed",e.abrupt("return");case 10:if(a.block_number==t.blockNumber){e.next=13;break}return t.loadingStatus="not committed",e.abrupt("return");case 13:return t.new_state_root=a.new_state_root.slice(8),t.commit_tx_hash=a.commit_tx_hash||"",t.verify_tx_hash=a.verify_tx_hash||"",t.committed_at=a.committed_at,t.verified_at=a.verified_at,t.status=a.verified_at?"Verified":"Pending",t.block_size=a.block_size,e.next=22,n.getBlockTransactions(t.blockNumber);case 22:return r=e.sent,e.next=25,n.tokensPromise;case 25:s=e.sent,t.transactions=r.map((function(e){var n=e.op.type,a="",r="",o="",c="",i="",u="",l="",p="",d="",h="",m="",f="";switch(n){case"Deposit":a=e.op.priority_op.from,r=e.op.priority_op.to,o=A(e.op.priority_op.from,"unknown sender"),c=A(e.op.priority_op.to,"unknown account"),p="".concat(t.blockchainExplorerAddress,"/").concat(e.op.priority_op.from),d="".concat(t.routerBase,"accounts/").concat(e.op.priority_op.to),h='<i class="fas fa-external-link-alt"></i>',m="",i=e.op.priority_op.token,i=s[i].syncSymbol,u="".concat(D(e.op.priority_op.amount,i)," ").concat(i),f=e.created_at,l="";break;case"Transfer":a=e.op.from,r=e.op.to,o=A(e.op.from,"unknown from"),c=A(e.op.to,"unknown to"),p="".concat(t.routerBase,"accounts/").concat(e.op.from),d="".concat(t.routerBase,"accounts/").concat(e.op.to),h="",m="",i=e.op.token,i=s[i].syncSymbol,u="".concat(D(e.op.amount,i)," ").concat(i),l="".concat(D(e.op.fee,i)," ").concat(i),f=e.created_at;break;case"ChangePubKey":a=e.op.account,r=e.op.newPkHash,o=A(e.op.account,"unknown account address"),c=A(e.op.newPkHash,"unknown pubkey hash"),p="".concat(t.routerBase,"accounts/").concat(e.op.account),d="",h="",m="",i="",u="",l="",f=e.created_at;break;case"Withdraw":a=e.op.from,r=e.op.to,o=A(e.op.from,"unknown account"),c=A(e.op.to,"unknown ethAddress"),p="".concat(t.routerBase,"accounts/").concat(e.op.from),d="".concat(t.blockchainExplorerAddress,"/").concat(e.op.to),h="",m='<i class="fas fa-external-link-alt"></i>',i=e.op.token,i=s[i].syncSymbol,u="".concat(D(e.op.amount,i)," ").concat(i),l="".concat(D(e.op.fee,i)," ").concat(i),f=e.created_at;break;case"FullExit":a=e.op.priority_op.eth_address,r=e.op.priority_op.eth_address,o=A(e.op.priority_op.eth_address,"unknown account address"),c=A(e.op.priority_op.eth_address,"unknown account address"),p="".concat(t.routerBase,"accounts/").concat(e.op.priority_op.eth_address),d="".concat(t.blockchainExplorerAddress,"/").concat(e.op.priority_op.eth_address),h='<i class="fas fa-external-link-alt"></i>',m='<i class="fas fa-external-link-alt"></i>',i=e.op.priority_op.token,i=s[i].syncSymbol,u="".concat(D(e.op.priority_op.withdraw_amount||0,i)," ").concat(i),f=e.created_at,l="";break;default:throw new Error("switch reached default")}var b=p.startsWith("/")||""==p?"":'target="_blank" rel="noopener noreferrer"',_=d.startsWith("/")||""==d?"":'target="_blank" rel="noopener noreferrer"';return{tx_hash:e.tx_hash,type:"".concat(n),from:'<a href="'.concat(p,'" ').concat(b,">").concat(o," ").concat(h,"</a>"),to:'<a href="'.concat(d,'" ').concat(_,">").concat(c," ").concat(m,"</a>"),fromAddr:a,toAddr:r,amount:u,fee:l,created_at:S(f)}})),t.loadingStatus="ready";case 28:case"end":return e.stop()}}),e)})))()}},components:It},Mt=Lt,$t=Object(f["a"])(Mt,Et,Ot,!1,null,null,null),qt=$t.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("br"),a("b-container",[t.loading?a("div",[a("h5",{staticClass:"mt-3"},[t._v("Transaction data")]),a("img",{attrs:{src:n("cf1c"),width:"100",height:"100"}})]):0==t.transactionExists?a("div",[a("h5",{staticClass:"mt-3"},[t._v("Can't find transaction "),a("code",[t._v(" "+t._s(t.tx_hash)+" ")])])]):a("div",[a("b-breadcrumb",{attrs:{items:t.breadcrumbs}}),a("h5",{staticClass:"mt-3"},[t._v("Transaction data")]),a("b-card",{staticClass:"table-margin-hack",attrs:{"no-body":""}},[a("b-table",{attrs:{responsive:"","thead-class":"displaynone",items:t.props},scopedSlots:t._u([{key:"cell(value)",fn:function(e){return["From"==e.item["name"]?a("CopyableAddress",{staticClass:"normalize-text",attrs:{address:t.txData.from,linkHtml:e.item["value"]}}):"To"==e.item["name"]?a("CopyableAddress",{staticClass:"normalize-text",attrs:{address:t.txData.to,linkHtml:e.item["value"]}}):"Account"==e.item["name"]?a("CopyableAddress",{staticClass:"normalize-text",attrs:{address:t.txData.from,linkHtml:e.item["value"]}}):["zkSync tx hash","ETH Tx hash"].includes(e.item["name"])?a("CopyableAddress",{staticClass:"normalize-text",attrs:{address:t.tx_hash,linkHtml:e.item["value"]}}):"Status"==e.item.name?a("span",[a("ReadinessStatus",{attrs:{status:t.readyStateFromString(e.item.value)}}),a("span",{staticClass:"mr-1",domProps:{innerHTML:t._s(e.item.value)}}),a("Question",{attrs:{text:e.item.value}})],1):a("span",{domProps:{innerHTML:t._s(e.item["value"])}})]}}])})],1),a("br")],1)])],1)},Kt=[],Ut=(n("7db0"),n("b0c0"),n("5319"),{accountUpdate:1e4,transactionUpdate:5e3}),Qt={SearchField:tt,CopyableAddress:ot,Navbar:vt,Question:dt,ReadinessStatus:Tt},Jt={name:"transaction",data:function(){return{txData:{},status:"",intervalHandle:null,loading:!0,transactionExists:!0}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.update();case 2:t.loading=!1,t.intervalHandle=setInterval((function(){t.update()}),Ut.transactionUpdate);case 4:case"end":return e.stop()}}),e)})))()},destroyed:function(){clearInterval(this.intervalHandle)},methods:{readyStateFromString:function(t){return{Failed:-1,Initiated:0,Pending:1,Complete:2}[t]},update:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M;case 2:return n=e.sent,e.next=5,n.tokensPromise;case 5:return a=e.sent,e.next=8,n.searchTx(t.tx_hash);case 8:if(r=e.sent,null!=r){e.next=12;break}return t.transactionExists=!1,e.abrupt("return");case 12:if(r.tokenName=-1===r.token?"":a[r.token].syncSymbol,"Deposit"==r.tx_type||"FullExit"==r.tx_type?r.feeTokenName="ETH":r.feeTokenName=-1===r.token?"":a[r.token].syncSymbol,r.amount="unknown amount"==r.amount?"":r.amount,s={verified_at:null,committed_at:null},-1==r.block_number){e.next=20;break}return e.next=19,n.getBlock(r.block_number);case 19:s=e.sent;case 20:if(!r.tx.eth_block_number){e.next=24;break}return e.next=23,n.getNumConfirmationsToWait(r.tx.eth_block_number);case 23:r.numEthConfirmationsToWait=e.sent;case 24:r.status=s.verified_at?"Complete":s.committed_at?"Pending":"Initiated","Withdraw"==r.tx_type&&(r.tx_type="Withdrawal"),t.txData=r;case 27:case"end":return e.stop()}}),e)})))()}},computed:{tx_hash:function(){return this.$route.params.id},breadcrumbs:function(){return[{text:"All blocks",to:"/"},{text:"Block "+this.txData.block_number,to:"/blocks/"+this.txData.block_number},{text:"Transaction "+this.tx_hash,active:!0}]},props:function(){if(0==Object.keys(this.txData).length)return[];var t="Deposit"==this.txData.tx_type||"FullExit"==this.txData.tx_type?'<a href="'.concat(this.blockchainExplorerTx,"/").concat(this.tx_hash,'">').concat(this.tx_hash,'</a> <i class="fas fa-external-link-alt"></i>'):"".concat(this.tx_hash),e="Deposit"==this.txData.tx_type?"".concat(this.blockchainExplorerAddress,"/").concat(this.txData.from):"".concat(this.routerBase,"accounts/").concat(this.txData.from),n="Withdrawal"==this.txData.tx_type?this.blockchainExplorerToken(this.txData.tokenName,this.txData.to):"ChangePubKey"==this.txData.tx_type?"":"".concat(this.routerBase,"accounts/").concat(this.txData.to),a="Deposit"==this.txData.tx_type?' <i class="fas fa-external-link-alt"></i>':"",r="Withdrawal"==this.txData.tx_type?' <i class="fas fa-external-link-alt"></i>':"",s="Deposit"==this.txData.tx_type?'target="_blank" rel="noopener noreferrer"':"",o="Withdrawal"==this.txData.tx_type?'target="_blank" rel="noopener noreferrer"':"",c="Withdrawal"==this.txData.tx_type?"<span class='layer_icon'>L2</span>":"Deposit"==this.txData.tx_type?"<span class='layer_icon'>L1</span>":"FullExit"==this.txData.tx_type?"<span class='layer_icon'>L2</span>":"",i="Withdrawal"==this.txData.tx_type?"<span class='layer_icon'>L1</span>":"Deposit"==this.txData.tx_type?"<span class='layer_icon'>L2</span>":"FullExit"==this.txData.tx_type?"<span class='layer_icon'>L1</span>":"",u="ChangePubKey"==this.txData.tx_type?[{name:"zkSync tx hash",value:t},{name:"Type",value:"".concat(this.txData.tx_type)},{name:"Status",value:"".concat(this.txData.status)},{name:"Account",value:"<a ".concat(s,' href="').concat(e,'">').concat(this.txData.from).concat(a,"</a>")},{name:"New signer key hash",value:"".concat(this.txData.to.replace("sync:",""))},{name:"Created at",value:S(this.txData.created_at)}]:"Deposit"==this.txData.tx_type||"FullExit"==this.txData.tx_type?[{name:"ETH Tx hash",value:t},{name:"Type",value:"".concat(this.txData.tx_type)},{name:"Status",value:"".concat(this.txData.status)},{name:"From",value:"".concat(c," <a ").concat(s,' href="').concat(e,'">').concat(this.txData.from).concat(a,"</a>")},{name:"To",value:"".concat(i," <a ").concat(o,' href="').concat(n,'">').concat(this.txData.to).concat(r,"</a>")},{name:"Amount",value:"".concat(this.txData.tokenName," ").concat(D(this.txData.amount,this.txData.tokenName))}]:[{name:"zkSync tx hash",value:t},{name:"Type",value:"".concat(this.txData.tx_type)},{name:"Status",value:"".concat(this.txData.status)},{name:"From",value:"".concat(c," <a ").concat(s,' href="').concat(e,'">').concat(this.txData.from).concat(a,"</a>")},{name:"To",value:"".concat(i," <a ").concat(o,' href="').concat(n,'">').concat(this.txData.to).concat(r,"</a>")},{name:"Amount",value:"".concat(this.txData.tokenName," ").concat(D(this.txData.amount,this.txData.tokenName))},{name:"fee",value:"".concat(this.txData.feeTokenName," ").concat(D(this.txData.fee,this.txData.tokenName))},{name:"Created at",value:S(this.txData.created_at)}];return-1!=this.txData.nonce&&u.push({name:"Nonce",value:this.txData.nonce}),this.txData.numEthConfirmationsToWait&&u.push({name:"Eth confirmations",value:this.txData.numEthConfirmationsToWait}),this.txData.fail_reason&&(u.push({name:"Fail reason:",value:"".concat(this.txData.fail_reason)}),u.find((function(t){return"Status"==t.name})).value="Failed"),u}},components:Qt},Zt=Jt,Gt=(n("37a1"),Object(f["a"])(Zt,Vt,Kt,!1,null,null,null)),Xt=Gt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("br"),a("b-container",[a("b-breadcrumb",{attrs:{items:t.breadcrumbs}}),a("h5",{staticClass:"mt-3 mb-2"},[t._v("Account data")]),a("b-card",{staticClass:"table-margin-hack",attrs:{"no-body":""}},[a("b-table",{staticClass:"nowrap",attrs:{responsive:"","thead-class":"displaynone",items:t.accountDataProps},scopedSlots:t._u([{key:"cell(value)",fn:function(e){return[a("CopyableAddress",{staticClass:"bigger-text",attrs:{address:t.address,linkHtml:e.item["value"],tooltipRight:!0}})]}}])})],1),a("h5",{staticClass:"mt-3 mb-2"},[t._v("Account balances")]),t.loading?a("img",{attrs:{src:n("cf1c"),width:"100",height:"100"}}):0==t.balances.length?a("div",[t._v(" No balances yet. ")]):a("b-card",{staticClass:"table-margin-hack table-width-hack",attrs:{"no-body":""}},[a("b-table",{staticClass:"nowrap",attrs:{responsive:"","thead-class":"displaynone",items:t.balancesProps},scopedSlots:t._u([{key:"cell(value)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item.value)}})]}}])})],1),a("h5",{staticClass:"mt-3 mb-2"},[t._v("Account transactions")]),t.loading?a("img",{attrs:{src:n("cf1c"),width:"100",height:"100"}}):0==t.transactions.length?a("div",[t._v(" No transactions yet. ")]):a("div",[a("b-card",{staticClass:"table-margin-hack",attrs:{"no-body":""}},[a("b-table",{staticClass:"nowrap",attrs:{responsive:"",items:t.transactionProps,fields:t.transactionFields},scopedSlots:t._u([{key:"cell(Type)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["Type"])}})]}},{key:"cell(TxHash)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["TxHash"])}})]}},{key:"cell(Block)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["Block"])}})]}},{key:"cell(Value)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["Value"])}})]}},{key:"cell(Amount)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["Amount"])}})]}},{key:"cell(Age)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["Age"])}})]}},{key:"cell(From)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["From"])}})]}},{key:"cell(To)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["To"])}})]}},{key:"cell(Fee)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["Fee"])}})]}}])})],1),this.pagesOfTransactions[2]&&this.pagesOfTransactions[2].length?a("b-pagination",{staticClass:"mt-2 mb-2",attrs:{"per-page":t.rowsPerPage,"total-rows":t.totalRows,"hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)},te=[],ee={SearchField:tt,CopyableAddress:ot,Navbar:vt},ne={name:"Account",data:function(){return{balances:[],transactions:[],pagesOfTransactions:{},currentPage:1,rowsPerPage:10,totalRows:0,loading:!0,intervalHandle:null,client:null}},watch:{currentPage:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.update();case 2:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M;case 2:t.client=e.sent,t.update(),t.intervalHandle=setInterval(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.currentPage){e.next=4;break}return t.pagesOfTransactions={},e.next=4,t.update();case 4:case"end":return e.stop()}}),e)}))),Ut.accountUpdate);case 5:case"end":return e.stop()}}),e)})))()},destroyed:function(){clearInterval(this.intervalHandle)},methods:{onRowClicked:function(t){this.$parent.$router.push("/transactions/"+t.hash)},update:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.client.getCommitedBalances(t.address);case 2:if(n=e.sent,t.balances=n.map((function(t){return{name:t.tokenSymbol,value:t.balance}})),a=(t.currentPage-1)*t.rowsPerPage,r=t.rowsPerPage,void 0!=t.pagesOfTransactions[t.currentPage]){e.next=10;break}return e.next=9,t.client.transactionsAsRenderableList(t.address,a,r);case 9:t.pagesOfTransactions[t.currentPage]=e.sent;case 10:if(s=!1,void 0!=t.pagesOfTransactions[t.currentPage+1]){e.next=18;break}return e.next=14,t.client.transactionsAsRenderableList(t.address,a+r,r);case 14:c=e.sent,o=c.length,s=!0,t.pagesOfTransactions[t.currentPage+1]=c;case 18:s&&(t.totalRows=a+r+o),t.transactions=t.pagesOfTransactions[t.currentPage],t.loading=!1;case 21:case"end":return e.stop()}}),e)})))()},loadNewTransactions:function(){this.totalRows=0,this.pagesOfTransactions={},this.load()}},computed:{address:function(){return this.$route.params.address},accountDataProps:function(){return[{name:"Address",value:"<a>".concat(this.address,"</a> ")}]},balancesProps:function(){return this.balances},breadcrumbs:function(){return[{text:"Home",to:"/"},{text:"Account "+this.address,active:!0}]},transactionProps:function(){var t=this;return this.transactions.map((function(e){e.data.hash.startsWith("sync-tx:")&&(e.data.hash=e.data.hash.slice("sync-tx:".length)),"Withdraw"==e.data.type&&(e.data.type="Withdrawal");var n='\n                        <a href="'.concat(t.routerBase,"transactions/").concat(e.data.hash,'">\n                            ').concat(A(e.data.hash,"unknown! hash"),"\n                        </a>"),a="Deposit"==e.data.type?"".concat(t.blockchainExplorerAddress,"/").concat(e.data.from):"".concat(t.routerBase,"accounts/").concat(e.data.from),r="Withdrawal"==e.data.type?"".concat(t.blockchainExplorerAddress,"/").concat(e.data.to):"".concat(t.routerBase,"accounts/").concat(e.data.to),s="Deposit"==e.data.type?'target="_blank" rel="noopener noreferrer"':"",o="Withdrawal"==e.data.type?'target="_blank" rel="noopener noreferrer"':"",c="Deposit"==e.data.type?'<i class="fas fa-external-link-alt"></i> ':"",i="Withdrawal"==e.data.type?'<i class="fas fa-external-link-alt"></i> ':"",u='\n                        <a href="'.concat(a,'" ').concat(s,">\n                            ").concat(A(e.data.from,"unknown! from"),"\n                            ").concat(c,"\n                        </a>"),l='\n                        <a href="'.concat(r,'" ').concat(o,">\n                            ").concat("ChangePubKey"==e.data.type?"":A(e.data.to,"unknown! to"),"\n\n                            ").concat("ChangePubKey"==e.data.type?"":i,"\n                        </a>"),p="".concat(e.data.type),d="ChangePubKey"==e.data.type?"":"".concat(e.data.token," <span>").concat(e.data.amount,"</span>"),h=S(e.data.created_at);return{TxHash:n,Type:p,Amount:d,From:u,To:l,CreatedAt:h,fromAddr:e.data.from,toAddr:e.data.to,hash:e.data.hash}}))},transactionFields:function(){return this.transactionProps&&this.transactionProps.length?Object.keys(this.transactionProps[0]).filter((function(t){return!["hash","fromAddr","toAddr"].includes(t)})):[]}},components:ee},ae=ne,re=(n("a0e7"),Object(f["a"])(ae,Yt,te,!1,null,null,null)),se=re.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("br"),a("b-container",[a("b-breadcrumb",{attrs:{items:t.breadcrumbs}}),t.loading?a("div",[a("img",{staticStyle:{"margin-right":"1.5em"},attrs:{src:n("cf1c"),width:"100em"}})]):a("div",[a("h5",[t._v("Supported Tokens")]),a("b-table",{staticClass:"nowrap",attrs:{responsive:"",id:"my-table",hover:"",outlined:"",items:t.tokens,fields:["symbol","address","decimals"]},scopedSlots:t._u([{key:"cell(symbol)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["symbol"])}})]}},{key:"cell(address)",fn:function(e){return[a("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:""+t.urlForToken(e.item["address"])}},[t._v(" "+t._s(e.item["address"])+" "),a("i",{staticClass:"fas fa-external-link-alt"})])]}},{key:"cell(decimals)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.item["decimals"])}})]}}])})],1)],1)],1)},ce=[],ie={Navbar:vt},ue={name:"tokens",created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.update();case 1:case"end":return e.stop()}}),e)})))()},data:function(){return{tokens:[],loading:!0,breadcrumbs:[{text:"Home",to:"/"},{text:"Tokens",active:!0}]}},methods:{update:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M;case 2:return n=e.sent,e.next=5,n.loadTokens();case 5:t.tokens=e.sent,t.tokens.sort((function(t,e){return t.symbol.localeCompare(e.symbol)})).map((function(t){return t.symbol})),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},urlForToken:function(t){var e="mainnet"===this.store.network?"":"".concat(this.store.network,".");return"https://".concat(e,"etherscan.io/token/").concat(t)}},components:ie},le=ue,pe=Object(f["a"])(le,oe,ce,!1,null,null,null),de=pe.exports,he=n("4f22"),me=n("c030");r["default"].use(he["a"]),r["default"].use(l["a"]),r["default"].use(s["a"]),r["default"].use(c.a);var fe=[{path:"/",component:Dt},{path:"/blocks/:blockNumber",component:qt},{path:"/transactions/:id",component:Xt},{path:"/accounts/:address",component:se,props:!0},{path:"/tokens",component:de}];function be(){return"/explorer/"}var _e=new l["a"]({routes:fe,mode:"history",base:be()});r["default"].mixin({data:function(){return{store:u,routerBase:be()}},computed:{blockchainExplorerTx:function(){return"localhost"===this.store.network?"http://localhost:8000":"mainnet"===this.store.network?"https://etherscan.io/tx":"https://".concat(this.store.network,".etherscan.io/tx")},blockchainExplorerAddress:function(){return"localhost"===this.store.network?"http://localhost:8000":"mainnet"===this.store.network?"https://etherscan.io/address":"https://".concat(this.store.network,".etherscan.io/address")}},methods:{blockchainExplorerToken:function(t,e){if("localhost"===this.store.network)return"http://localhost:8000/".concat(e);var n="mainnet"===this.store.network?"":"".concat(this.store.network,"."),a=window.syncProvider.tokenSet.resolveTokenAddress(t);return"0x0000000000000000000000000000000000000000"!=a?"https://".concat(n,"etherscan.io/token/").concat(a,"?a=").concat(e):"https://".concat(n,"etherscan.io/address/").concat(e)}}}),window.app=new r["default"]({el:"#app",router:_e,created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.store.config=y,/(?:api-)*(\w*)(?:\..*)*/,t.store.network=t.store.config.ETH_NETWORK,t.store.capitalizedNetwork=E(t.store.network),n="mainnet"==t.store.network?"wallet":t.store.network,t.store.walletLink="https://".concat(n,".zksync.io"),Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.store.capitalizedNetwork){e.next=5;break}return e.next=3,C(100);case 3:e.next=0;break;case 5:document.title="zkSync ".concat(t.store.capitalizedNetwork," Explorer  trustless scalable payments");case 6:case"end":return e.stop()}}),e)})))();case 7:case"end":return e.stop()}}),e)})))()},render:function(t){return t(_)}}),window.store=u,window.ethers=me,window.p={set p(t){t.then((function(t){return console.log(t)}))}}},"59d9":function(t,e,n){},"5c0b":function(t,e,n){"use strict";n("9c0c")},6228:function(t,e,n){"use strict";n("f51f")},"89b4":function(t,e,n){t.exports=n.p+"img/2.5556c723.svg"},"8f19":function(t,e,n){},9369:function(t,e,n){"use strict";n("8f19")},"9c0c":function(t,e,n){},"9c30":function(t,e,n){},a0c5:function(t,e,n){"use strict";n("0e7e")},a0e7:function(t,e,n){"use strict";n("dd77")},c077:function(t,e,n){t.exports=n.p+"img/cross.983dc0ac.png"},cf1c:function(t,e,n){t.exports=n.p+"img/loading.3f00b5d2.gif"},d8cf:function(t,e,n){t.exports=n.p+"img/ZK_dark.5946fc72.svg"},dd77:function(t,e,n){},de84:function(t,e,n){"use strict";n("54ce")},f51f:function(t,e,n){}});
//# sourceMappingURL=app.d8d3eacb.js.map